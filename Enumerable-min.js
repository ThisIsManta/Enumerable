/*
 * @name Enumerable
 * @version 4.0.0
 * @author Anantachai Saothong <thisismanta@outlook.com>
 * @license MIT
 * https://github.com/ThisIsManta/Enumerable.git
*/
!function(){var t="one or more parameters were not valid",r="an index was out-of-range",e="a length was not valid",n="a string cannot be empty",i="an array cannot be empty",s="an array had no matching members",o="an array had more than one matching member",f="an array had too many matching members",u="one or more array members were not an object",h="[invokeWhich] must be called after [groupBy]",a="a non-object type was not allowed";Array.create=function(){var r,n,i,s=arguments[0],o=arguments[1],f=arguments[2],u=-1;if("object"==typeof s&&null!==s)if(s instanceof Array)i=s,i._m=!0;else if(s instanceof Map)i=new Array(s.size),s.forEach(function(t,r){i[++u]=[r,t]}),i._m=!1;else if("number"==typeof s.length){var h=s.length;if(!(d(h)&&h>=0))throw new Error(e);for(i=new Array(h);++u<h;)i[u]=s[u];i._m=!1}else{i=[];var a=arguments.length>=2&&(arguments[arguments.length-1]===!0||arguments[arguments.length-2]===!0);if("string"==typeof o){(void 0===f||"string"!=typeof f)&&(f="value");for(r in s)void 0!==s[r]&&(a||"function"!=typeof s[r]&&"_"!==r.charAt(0))&&(n={},n[o]=r,n[f]=s[r],i[++u]=n)}else for(r in s)void 0!==s[r]&&(a||"function"!=typeof s[r]&&"_"!==r.charAt(0))&&(i[++u]={name:r,value:s[r]});i._m=!1}else if("string"==typeof s)i=s.split("string"==typeof o||o instanceof RegExp?o:""),i._m=!1;else if("number"==typeof s&&d(s)&&s>=0){if(i=new Array(s),void 0!==o)for(;++u<s;)i[u]=o;i._m=!1}else{if(0!==arguments.length)throw new Error(t);i=[],i._m=!1}return i},Array.prototype.bind=function(t){if(0===arguments.length)throw new TypeError(a);return void 0===t||null===t?delete this._s:"object"==typeof t&&(this._s=t),this};var l=function(t){if("object"==typeof t&&null!==t){var r,e;if(t instanceof Array){var n=t.length;for(r=new Array(n),e=-1;++e<n;)r[e]=l(t[e]);return r}r={};for(e in t)r[e]=l(t[e]);return r}return t};Array.prototype.clone=function(){var t,r=!!arguments[0];return t=r===!0?l(this):this.slice(0),t._m=!1,void 0!==this._s&&(t._s=this._s),t},Array.prototype.toImmutable=function(){return void 0===this._m||this._m===!0?this.clone():this},Array.prototype.toObject=function(){var r,e=arguments[0],n=arguments[1],i=-1,s=this.length,o={},f=this._s;if(0===arguments.length)for(;++i<s;)r=this[i],o[r.toString()]=r;else if("string"==typeof e)if(1===arguments.length)for(;++i<s;)r=this[i][e],null===r&&(r="null"),void 0!==r&&(o[r.toString()]=this[i]);else if("string"==typeof n)for(;++i<s;)r=this[i][e],null===r&&(r="null"),void 0!==r&&(o[r.toString()]=this[i][n]);else if("function"==typeof n)for(;++i<s;)r=this[i][e],null===r&&(r="null"),void 0!==r&&(o[r.toString()]=n.call(f,this[i],i,this));else for(;++i<s;)r=this[i][e],null===r&&(r="null"),void 0!==r&&(o[r.toString()]=n);else{if("function"!=typeof e)throw new Error(t);if(1===arguments.length)for(;++i<s;)r=e.call(f,this[i],i,this),null===r&&(r="null"),void 0!==r&&(o[r.toString()]=this[i]);else if("string"==typeof n)for(;++i<s;)r=e.call(f,this[i],i,this),null===r&&(r="null"),void 0!==r&&(o[r.toString()]=this[i][n]);else if("function"==typeof n)for(;++i<s;)r=e.call(f,this[i],i,this),null===r&&(r="null"),void 0!==r&&(o[r.toString()]=n.call(f,this[i],i,this));else for(;++i<s;)r=e.call(f,this[i],i,this),null===r&&(r="null"),void 0!==r&&(o[r.toString()]=n)}return o},Array.prototype.toMap=function(){var r=arguments[0],e=arguments[1],n=-1,i=this.length,s=new Map,o=this._s;if(0===arguments.length)for(;++n<i;)s.set(n,this[n]);else if("string"==typeof r)if(1===arguments.length)for(;++n<i;)s.set(this[n][r],this[n]);else if("string"==typeof e)for(;++n<i;)s.set(this[n][r],this[n][e]);else if("function"==typeof e)for(;++n<i;)s.set(this[n][r],e.call(o,this[n],n,this));else for(;++n<i;)s.set(this[n][r],e);else{if("function"!=typeof r)throw new Error(t);if(1===arguments.length)for(;++n<i;)s.set(r.call(o,this[n],n,this),this[n]);else if("string"==typeof e)for(;++n<i;)s.set(r.call(o,this[n],n,this),this[n][e]);else if("function"==typeof e)for(;++n<i;)s.set(r.call(o,this[n],n,this),e.call(o,this[n],n,this));else for(;++n<i;)s.set(r.call(o,this[n],n,this),e)}return s};var g=Array.prototype.toString;Array.prototype.toString=function(){var r=arguments[0];if(0===arguments.length)return g.call(this);if(1===arguments.length&&"string"==typeof r)return this.join(r);throw new Error(t)},Array.prototype.where=function(){var r,e,n,i=arguments[0],s=arguments[1],o=-1,f=-1,u=this.length,h=[];if("function"==typeof i&&1===arguments.length)h=this.filter(i,this._s);else if("object"==typeof i&&1===arguments.length)for(;++o<u;){r=1,e=this[o];for(n in i)if(r&=e[n]===i[n],!r)break;r&&(h[++f]=e)}else{if("string"!=typeof i||2!==arguments.length)throw new Error(t);for(;++o<u;)e=this[o],e[i]===s&&(h[++f]=e)}return void 0!==this._s&&(h._s=this._s),h},Array.prototype.select=function(){var r,e,i,s,o=arguments[0],f=-1,u=this.length;if("function"==typeof o)s=this.map(o,this._s);else if("string"==typeof o){if(s=new Array(u),0===o.length)throw new Error(n);for(;++f<u;)s[f]=this[f][o]}else{if(!Array.isArray(o))throw new Error(t);for(e=o.length,s=new Array(u);++f<u;){for(r=-1,i={};++r<e;)i[o[r]]=this[f][o[r]];s[f]=i}}return void 0!==this._s&&(s._s=this._s),s},Array.prototype.invoke=function(){var e,n=Array.prototype.slice.call(arguments).indexOf(function(t){return"function"==typeof t}),i=n>=1?arguments[0]:0,s=n>=2?arguments[1]:this.length,o=n>=3?arguments[2]:s>i?1:-1,f=arguments[n],u=this._s;if(!("function"==typeof f&&d(i)&&i>=0&&d(s)&&d(o)&&0!==o))throw new Error(t);if(!(s>=0&&s<=this.length))throw new RangeError(r);if(0===i&&s>=1024&&1===o){for(;s%8>i&&e!==!1;)e=f.call(u,this[i],i++,this);for(;s>i&&e!==!1;)e!==!1&&(e=f.call(u,this[i],i++,this)),e!==!1&&(e=f.call(u,this[i],i++,this)),e!==!1&&(e=f.call(u,this[i],i++,this)),e!==!1&&(e=f.call(u,this[i],i++,this)),e!==!1&&(e=f.call(u,this[i],i++,this)),e!==!1&&(e=f.call(u,this[i],i++,this)),e!==!1&&(e=f.call(u,this[i],i++,this)),e!==!1&&(e=f.call(u,this[i],i++,this))}else if(o>0)for(;s>i&&e!==!1;)e=f.call(u,this[i],i,this),i+=o;else for(i--;i>=s&&e!==!1;)e=f.call(u,this[i],i,this),i+=o;return this},Array.prototype.invokeAsync=function(){var e,n,i=Array.prototype.slice.call(arguments).indexOf(function(t){return"function"==typeof t}),s=i>=1?arguments[0]:0,o=i>=2?arguments[1]:this.length,f=i>=3?arguments[2]:o>s?1:-1,u=arguments[i],h=void 0!==arguments[i+1]?arguments[i+1]:1,a=this,l=this._s;if(!("function"==typeof u&&d(s)&&s>=0&&d(o)&&d(f)&&0!==f&&d(h)&&h>0))throw new Error(t);if(!(o>=0&&o<=this.length))throw new RangeError(r);return f>0?n=new Promise(function(t,r){e=function(){for(var n,i=h;o>s&&i-->0&&n!==!1;)n=u.call(l,a[s],s,a),s+=f;n===!1?r():o>s?setTimeout(e,2):t(a)}}):(s--,n=new Promise(function(t,r){e=function(){for(var n,i=h;s>=o&&i-->0&&n!==!1;)n=u.call(l,a[s],s,a),s+=f;n===!1?r():s>=o?setTimeout(e,2):t(a)}})),setTimeout(e),n},Array.prototype.invokeWhich=function(){var r=arguments[0],e=arguments[1];if(void 0===this._g)throw new Error(h);if("function"!=typeof e||2!==arguments.length)throw new Error(t);return r=void 0===r?"undefined":null===r?"null":r.toString(),this._g[r].invoke(e),this},Array.prototype.take=function(){var e,n=arguments[0],i=arguments[1],s=-1,o=this.length;if("function"==typeof n){for(;++s<o&&n.call(this._s,this[s],s,this)!==!1;);e=this.slice(0,s)}else if(!isFinite(n)||n>=Number.MAX_SAFE_INTEGER)e=this.toImmutable();else{if(!d(n))throw new Error(t);if(0>n||n>o)throw new RangeError(r);if(d(i)){if(0>i||i>o)throw new RangeError(r);if(n>i)throw new RangeError(ERR_SGS);e=this.slice(n,i)}else e=this.slice(n)}return void 0!==this._s&&(e._s=this._s),e},Array.prototype.skip=function(){var e,n,i=arguments[0],s=arguments[1],o=-1,f=this.length;if("function"==typeof i){for(e=f;++o<f;)if(i.call(this._s,this[o],o,this)===!1){e=o;break}return this.take.call(this,e,f)}if(!isFinite(i)||i>=Number.MAX_SAFE_INTEGER)n=[];else{if(!d(i))throw new Error(t);if(0>i||i>f)throw new RangeError(r);if(d(s)){if(0>s||s>f)throw new RangeError(r);if(i>s)throw new RangeError(ERR_SGS);n=this.toImmutable(),n.splice(i,s-i)}else n=this.slice(0,i)}return void 0!==this._s&&(n._s=this._s),n},Array.prototype.flatten=function(){for(var t,r,e,n=!!arguments[0],i=-1,s=-1,o=this.length,f=[];++i<o;)if(e=this[i],Array.isArray(e)){if(e.length>0)for(n===!0&&(e=e.flatten(n)),t=-1,r=e.length;++t<r;)f[++s]=e[t]}else f[++s]=e;return void 0!==this._s&&(f._s=this._s),f},Array.prototype.any=function(){var t=arguments[0],r=arguments[1],e=-1,n=this.length;if(0===n)return!1;if(0===arguments.length)return!0;if("function"==typeof t){for(;++e<n;)if(t.call(this._s,this[e],e,this))return!0;return!1}if("string"==typeof t&&2===arguments.length){for(;++e<n;)if(this[e][t]===r)return!0;return!1}for(;++e<n;)if(this[e]===t)return!0;return!1},Array.prototype.all=function(){var r=arguments[0],e=arguments[1],n=-1,i=this.length;if(0===i)return!0;if(0===arguments.length)throw new Error(t);if("function"==typeof r){for(;++n<i;)if(!r.call(this._s,this[n],n,this))return!1;return!0}if("string"==typeof r&&2===arguments.length){for(;++n<i;)if(this[n][r]!==e)return!1;return!0}for(;++n<i;)if(this[n]!==r)return!1;return!0},Array.prototype.has=function(){return this.indexOf.apply(this,arguments)>=0},Array.prototype.isEqual=function(){var r=Array.create(arguments[0]),e=arguments[1],n=-1,i=this.length;if(i!==r.length)return!1;if(1===arguments.length){for(;++n<i;)if(!(Array.isArray(this[n])&&Array.isArray(r[n])&&this[n].isEqual(r[n]))&&this[n]!==r[n])return!1;return!0}if("function"==typeof e&&2===arguments.length){for(;++n<i;)if(!e.call(this._s,this[n],r[n]))return!1;return!0}throw new Error(t)},Array.prototype.isAlike=function(){var r,e,n,i=Array.create(arguments[0]).toImmutable(),s=arguments[1],o=-1,f=this.length;if(f!==i.length||0===f!=(0===i.length))return!1;if(1===arguments.length){for(;++o<f;){if(n=i.indexOf(this[o]),0>n)return!1;i.removeAt(n)}return 0===i.length}if("function"==typeof s&&2===arguments.length){for(;++o<f;){for(n=this[o],r=-1,e=i.length;++r<e&&!s.call(this._s,n,i[r]););if(r===e)return!1;i.removeAt(r)}return 0===i.length}throw new Error(t)},Array.prototype.isSubset=function(){var r=this,e=Array.create(arguments[0]),n=arguments[1],i=-1,s=this.length,o=e._s;if(e._s=this._s,1===arguments.length){for(;++i<s;)if(-1===e.indexOf(this[i]))return!1}else{if("function"!=typeof n||2!==arguments.length)throw new Error(t);for(var f=function(t){return n.call(this,r[i],t)};++i<s;)if(-1===e.indexOf(f))return!1}return void 0===o?delete e._s:e._s=o,!0};var c=Array.prototype.indexOf;Array.prototype.indexOf=function(){var r=arguments[0],e=arguments[1],n=-1,i=this.length;if(arguments.length>=1){if("function"==typeof r){for(d(e)&&(n=e>=0?e-1:i+e-1),0>n&&(n=-1);++n<i;)if(r.call(this._s,this[n],n,this))return n;return-1}return c.apply(this,arguments)}throw new Error(t)};var p=Array.prototype.lastIndexOf;Array.prototype.lastIndexOf=function(){var r=arguments[0],e=arguments[1],n=this.length;if(arguments.length>=1){if("function"==typeof r){for(d(e)&&(n=e>=0?e:this.length+e+1),0>n&&(n=this.length);--n>=0;)if(r.call(this._s,this[n],n,this))return n;return-1}return p.apply(this,arguments)}throw new Error(t)};var y=Array.prototype.find;Array.prototype.find=function(){var r,e=arguments[0],n=arguments[1];if("function"==typeof e)return y.apply(this,arguments);if("string"==typeof e&&2===arguments.length)return r=this.indexOf.call(this,function(t){return t[e]===n}),r>=0?this[r]:void 0;throw new Error(t)},Array.prototype.first=function(){if(0===this.length)throw new Error(i);if(0===arguments.length)return this[0];var t=this.indexOf.apply(this,arguments);if(t>=0)return this[t];throw new Error(s)},Array.prototype.firstOrNull=function(){if(0===this.length)return null;if(0===arguments.length)return this[0];var t=this.indexOf.apply(this,arguments);return t>=0?this[t]:null},Array.prototype.last=function(){if(0===this.length)throw new Error(i);if(0===arguments.length)return this[this.length-1];var t=this.lastIndexOf.apply(this,arguments);if(t>=0)return this[t];throw new Error(s)},Array.prototype.lastOrNull=function(){if(0===this.length)return null;if(0===arguments.length)return this[this.length-1];var t=this.lastIndexOf.apply(this,arguments);return t>=0?this[t]:null},Array.prototype.single=function(){if(0===this.length)throw new Error(i);if(0===arguments.length){if(1===this.length)return this[0];throw new Error(o)}if(1===arguments.length){var r=arguments[0],e=this.indexOf.call(this,r);if(e>=0){if(e===this.lastIndexOf.call(this,r))return this[e];throw new Error(f)}throw new Error(s)}throw new Error(t)},Array.prototype.singleOrNull=function(){if(0===this.length)return null;if(0===arguments.length)return 1===this.length?this[0]:null;if(1===arguments.length){var r=this.indexOf.call(this,arguments[0]);return r>=0&&r===this.lastIndexOf.call(this,arguments[0])?this[r]:null}throw new Error(t)},Array.prototype.distinct=function(){var r,e=arguments[0],n={},i=-1,s=-1,o=this.length,f=!1,u=!1,h=[];if(0===arguments.length)for(;++i<o;)r=this[i],void 0===r?f===!1&&(f=!0,h[++s]=this[i]):null===r?u===!1&&(u=!0,h[++s]=this[i]):void 0===n[r=r.toString()]&&(n[r]=!0,h[++s]=this[i]);else if("string"==typeof e&&e.length>0&&1===arguments.length)for(;++i<o;)r=this[i][e],void 0===r?f===!1&&(f=!0,h[++s]=this[i]):null===r?u===!1&&(u=!0,h[++s]=this[i]):void 0===n[r=r.toString()]&&(n[r]=!0,h[++s]=this[i]);else{if("function"!=typeof e||1!==arguments.length)throw new Error(t);for(;++i<o;)r=e.call(this._s,this[i],i,this),void 0===r?f===!1&&(f=!0,h[++s]=this[i]):null===r?u===!1&&(u=!0,h[++s]=this[i]):void 0===n[r=r.toString()]&&(n[r]=!0,h[++s]=this[i])}return void 0!==this._s&&(h._s=this._s),h},Array.prototype.add=function(){var e=arguments[0],n=arguments[1];if(1===arguments.length||n===this.length)this.push(e);else{if(!d(n)||2!==arguments.length)throw new Error(t);if(!(n>=0&&n<=this.length))throw new RangeError(r);this.splice(n,0,e)}return this},Array.prototype.addRange=function(){var e=Array.create(arguments[0]),n=arguments[1];if(1===arguments.length||n===this.length)Array.prototype.splice.apply(this,[this.length,0].concat(e));else{if(!d(n)||2!==arguments.length)throw new Error(t);if(!(n>=0&&n<=this.length))throw new RangeError(r);1===e.length?this.splice(n,0,e[0]):e.length>1&&Array.prototype.splice.apply(this,[n,0].concat(e))}return this},Array.prototype.remove=function(){var r,e=arguments[0],n=arguments[1];if(arguments.length<=2)return r=this.indexOf(e),r>=0&&(!d(n)||r>=n)?this.removeAt(r):this;throw new Error(t)},Array.prototype.removeAt=function(){var e=arguments[0];if(1!==arguments.length)throw new Error(t);if(!(d(e)&&e>=0&&e<=this.length))throw new RangeError(r);return this.splice(e,1),this},Array.prototype.removeRange=function(){var r=Array.create(arguments[0]),e=-1,n=r.length;if(1!==arguments.length)throw new Error(t);for(;++e<n;)this.remove(r[e]);return this},Array.prototype.removeAll=function(){var r=arguments[0];if(0===arguments.length)this.splice(0,this.length);else{if(1!==arguments.length)throw new Error(t);for(var e=this.length;--e>=0;)this[e]===r&&this.splice(e,1)}return this},Array.prototype.split=function(){var r=arguments[0],e=arguments[1],n=-1,i=0,s=this.length,o=[],f=this._s;if(1===arguments.length)if("function"==typeof r)for(;++n<s;)r.call(f,this[n],n,this)&&(o.push(this.slice(i,n)),i=n+1);else for(;++n<s;)this[n]===r&&(o.push(this.slice(i,n)),i=n+1);else{if("string"!=typeof r||2!==arguments.length)throw new Error(t);for(;++n<s;)this[n][r]===e&&(o.push(this.slice(i,n)),i=n+1)}return this.length>0&&s>=i&&o.push(this.slice(i)),void 0!==this._s&&(o._s=this._s),o},Array.prototype.splitAt=function(){var e=arguments[0],n=[];if(d(e)&&1===arguments.length){if(e>=0&&e<this.length)return n.push(this.slice(0,e)),n.push(this.slice(e)),void 0!==this._s&&(n._s=this._s),n;throw new RangeError(r)}throw new Error(t)},Array.prototype.replace=function(){var r=arguments[0],e=arguments[1],n=arguments[2],i=-1,s=this.length,o=this.toImmutable();if(!(arguments.length>=2))throw new Error(t);if((!d(n)||0>n)&&(n=1/0),"function"==typeof r)for(;++i<s&&n>0;)r.call(this._s,o[i],i,o)&&(o[i]=e,n--);else for(;++i<s&&n>0;)o[i]===r&&(o[i]=e,n--);return o},Array.prototype.replaceAt=function(){var e=arguments[0],n=arguments[1],i=this.toImmutable();if(2!==arguments.length)throw new Error(t);if(!d(e)||0>e||e>=i.length)throw new RangeError(r);return i[e]=n,i},Array.prototype.union=function(){var r=Array.create(arguments[0]),e=-1,n=this.length-1,i=r.length,s=this.toImmutable();if(1===arguments.length){for(;++e<i;)this.has(r[e])||(s[++n]=r[e]);return s}throw new Error(t)},Array.prototype.intersect=function(){var r=Array.create(arguments[0]),e=-1,n=-1,i=this.length,s=[];if(1===arguments.length){for(;++e<i;)r.has(this[e])&&(s[++n]=this[e]);return s._m=!1,void 0!==this._s&&(s._s=this._s),s}throw new Error(t)},Array.prototype.difference=function(){var r=Array.create(arguments[0]),e=-1,n=-1,i=this.length,s=[];if(1===arguments.length){for(;++e<i;)r.has(this[e])||(s[++n]=this[e]);return s._m=!1,void 0!==this._s&&(s._s=this._s),s}throw new Error(t)};var m=Array.prototype.sort;Array.prototype.sort=function(){return m.apply(this,arguments),this},Array.prototype.sortBy=function(){var r,e=arguments[0],i=arguments[1],s=this._s;if(arguments.length<=2){if(Array.isArray(e)){if("string"==typeof e&&e.length>0){var o=e;e=function(t){return t[o]}}var f=this.length;if(1===arguments.length)r=this.select(function(t,r){var n=e.indexOf(t);return{v:t,r:n>=0?n:f+r}});else{if("function"!=typeof e)throw new Error(t);r=this.select(function(t,r){var n=i.indexOf(e.apply(s,arguments));return{v:t,r:n>=0?n:f+r}})}e=void 0}else if("function"==typeof e)r=this.select(function(t,r){return{v:t,r:e.call(s,t,r,this),i:r}});else{if("string"!=typeof e)throw new Error(t);if(0===e.length)throw new Error(n);r=this.select(function(t){return{v:t,r:t[e]}})}return this.length<=0?this:(i!==!0?m.call(r,function(t,r){return t.r===r.r?t.i-r.i:t.r>r.r||void 0===t.r||null===t.r||""===t.r?1:t.r<r.r||void 0===r.r||null===r.r||""===r.r?-1:t.r-r.r}):m.call(r,function(t,r){return t.r===r.r?t.i-r.i:t.r>r.r||void 0===t.r||null===t.r||""===t.r?-1:t.r<r.r||void 0===r.r||null===r.r||""===r.r?1:r.r-t.r}),r.select("v"))}var u=Array.prototype.slice.call(arguments).select(function(r,e){if(e%2===0){if("string"==typeof r)return function(t){return t[r]};if("function"==typeof r)return r;throw new Error(t)}return void 0===r?!0:!!r});u.length%2===1&&u.push(!1);var h,a,l,g,c=u.length/2;return r=this.clone(),m.call(r,function(t,r){for(h=-1;++h<c;){if(l=u[2*h].call(s,t),g=u[2*h].call(s,r),void 0===l||null===l||""===l){if(void 0===g||null===g||""===g)continue;a=1}else if(void 0===g||null===g||""===g)a=-1;else{if(l===g)continue;a=g>l?-1:1}return a*(u[2*h+1]===!0?-1:1)}return 0}),r},Array.prototype.groupBy=function(){var r,e,i,s=arguments[0],o=-1,f=this.length,u={},h={},a=[];if("string"==typeof s){if(0===s.length)throw new Error(n);e=s,s=function(t){return t[e]}}if("function"!=typeof s)throw new Error(t);for(;++o<f;)r=s.call(this._s,this[o],o,this),i=void 0===r?"undefined":null===r?"null":r.toString(),void 0===u[i]?(u[i]=[this[o]],h[i]=r):u[i].add(this[o]);for(i in u)r=u[i],r._m=!1,r._s=this._s,r.name=h[i],a.add(r);return a._g=u,void 0!==this._s&&(a._s=this._s),a},Array.prototype.groupOf=function(){var r,e,n=arguments[0],i=-1,s=this.length;if(d(n)&&n>0&&1===arguments.length){for(e=new Array(Math.ceil(s/n));++i<s;)r=e[Math.floor(i/n)],void 0===r&&(r=e[Math.floor(i/n)]=[]),r.push(this[i]);return void 0!==this._s&&(e._s=this._s),e}throw new Error(t)},Array.prototype.joinBy=function(){var r,e,i,s=Array.create(arguments[0]),o=arguments[1],f=arguments[2],h=-1,a=this.length,l=s.length,g=this._s;if(this.any(function(t){return"object"!=typeof t})||s.any(function(t){return"object"!=typeof t}))throw new Error(u);if("string"==typeof o){if(0===o.length)throw new Error(n);for(;++h<a;){for(r=-1,e=null;++r<l;)if(s[r][o]===this[h][o]){e=s[r];break}if(null!==e)for(i in e)f?this[h][i]=e[i]:void 0===this[h][i]&&(this[h][i]=e[i])}}else{if("function"!=typeof o)throw new Error(t);for(;++h<a;){for(r=-1,e=null;++r<l;)if(o.call(g,this[h],h,this)===o.call(g,s[r],r,s)){e=s[r];break}if(null!==e)for(i in e)f?this[h][i]=e[i]:void 0===this[h][i]&&(this[h][i]=e[i])}}return this},Array.prototype.countBy=function(){var r=arguments[0],e=arguments[1],n=-1,i=this.length,s=0,o=this._s;if(arguments.length<1||arguments.length>2)throw new Error(t);if("string"==typeof r)for(;++n<i;)this[n][r]===e&&s++;else if("function"==typeof r)for(;++n<i;)r.call(o,this[n],n,this)&&s++;else for(;++n<i;)this[n]===r&&s++;return s},Array.prototype.min=function(){var r,e,i=arguments[0],s=0,o=0,f=this.length,u=this._s;if(0===f)return null;if(1===f)return this[0];if(void 0===i)for(e=this[0];++s<f;)r=this[s],e>r&&(o=s,e=r);else if("string"==typeof i){if(0===i.length)throw new Error(n);for(e=this[0][i];++s<f;)r=this[s][i],e>r&&(o=s,e=r)}else{if("function"!=typeof i)throw new Error(t);for(e=i.call(u,this[0],0,this);++s<f;)r=i.call(u,this[s],s,this),e>r&&(o=s,e=r)}return o>=0?this[o]:null},Array.prototype.max=function(){var r,e,i=arguments[0],s=0,o=0,f=this.length,u=this._s;if(0===f)return null;if(1===f)return this[0];if(void 0===i)for(e=this[0];++s<f;)r=this[s],r>e&&(o=s,e=r);else if("string"==typeof i){if(0===i.length)throw new Error(n);for(e=this[0][i];++s<f;)r=this[s][i],r>e&&(o=s,e=r)}else{if("function"!=typeof i)throw new Error(t);for(e=i.call(u,this[0],0,this);++s<f;)r=i.call(u,this[s],s,this),r>e&&(o=s,e=r)}return o>=0?this[o]:null},Array.prototype.mod=function(){var r,e=arguments[0],i={},s=-1,o=this.length,f=this._s;if(0===o)return null;if(1===o)return this[0];if(void 0===e)for(;++s<o;)r=this[s].toString(),i[r]?i[r].c+=1:i[r]={i:s,c:1};else if("string"==typeof e){if(0===e.length)throw new Error(n);for(;++s<o;)r=this[s][e].toString(),i[r]?i[r].c+=1:i[r]={i:s,c:1}}else{if("function"!=typeof e)throw new Error(t);for(;++s<o;)r=e.call(f,this[s],s,this).toString(),i[r]?i[r].c+=1:i[r]={i:s,c:1}}return this[Array.create(i).max(function(t){return t.value.c}).value.i]},Array.prototype.sum=function(){var r,e,i=arguments[0],s=0,o=this.length,f=this._s;if(0===o)return 0;if(void 0===i)for(e=this[0];++s<o;)r=this[s],isNaN(r)===!1&&(e+=r);else if("string"==typeof i){if(0===i.length)throw new Error(n);for(e=this[0][i];++s<o;)r=this[s][i],isNaN(r)===!1&&(e+=r)}else{if("function"!=typeof i)throw new Error(t);for(e=i.call(f,this[0],0,this);++s<o;)r=i.call(f,this[s],s,this),isNaN(r)===!1&&(e+=r)}return e},Array.prototype.avg=function(){return this.sum.apply(this,arguments)/this.length},Array.prototype.norm=function(){var r,e=arguments[0],n=-1,i=-1,s=this.length,o=[],f=this._s;if(0===arguments.length)for(;++n<s;)r=this[n],r&&("string"!=typeof r||r.trim().length>0)&&("number"!=typeof r||isFinite(r))&&(o[++i]=r);else if("string"==typeof e)for(;++n<s;)r=this[n][e],r&&("string"!=typeof r||r.trim().length>0)&&("number"!=typeof r||isFinite(r))&&(o[++i]=this[n]);else{if("function"!=typeof e)throw new Error(t);for(;++n<s;)r=e.call(f,this[n],n,this),r&&("string"!=typeof r||r.trim().length>0)&&("number"!=typeof r||isFinite(r))&&(o[++i]=this[n])}return void 0!==this._s&&(o._s=this._s),o},Array.prototype.cast=function(){var r,e=arguments[0],n=-1,i=-1,s=this.length,o=[];if("function"==typeof e&&(e=e.name),"string"==typeof e&&e.length>0){if(e=e.toLowerCase(),"string"===e)for(;++n<s;)r=this[n],void 0!==r&&null!==r&&void 0!==r.toString&&(r=r.toString(),"[object Object]"!==r&&/function\s*\(.*\)\s*{.*}/.test(r)===!1&&(o[++i]=r.toString()));else if("number"===e)for(;++n<s;)r=this[n],"number"!=typeof r||isNaN(r)?"string"==typeof r&&(r=parseFloat(r),isNaN(r)||(o[++i]=r)):isNaN(r)||(o[++i]=r);else if("boolean"===e)for(;++n<s;)r=this[n],void 0!==r&&null!==r&&void 0!==r.toString&&(r=r.toString().trim().toLowerCase(),"true"===r?o[++i]=!0:"false"===r&&(o[++i]=!1));else if("array"===e)for(;++n<s;)r=this[n],Array.isArray(r)?o[++i]=r:void 0!==r&&null!==r&&"function"!=typeof r&&d(r.length)&&(o[++i]=Array.create(r));else if("object"===e)for(;++n<s;)r=this[n],null===r||"object"!=typeof r||Array.isArray(r)||(o[++i]=r);else if("function"===e)for(;++n<s;)r=this[n],"function"==typeof r&&(o[++i]=r);else if(typeof r===e)for(;++n<s;)o[++i]=this[n];return void 0!==this._s&&(o._s=this._s),o}throw new Error(t)},Array.prototype.cross=function(){var r,e=Array.create(arguments[0]),n=-1,i=-1,s=this.length,o=e.length,f=new Array(s*o);if(1!==arguments.length)throw new Error(t);if(this._x===!0)for(;++n<s;)for(r=-1;++r<o;)f[++i]=this[n].slice(0).add(e[r]);else for(;++n<s;)for(r=-1;++r<o;)f[++i]=[this[n]].add(e[r]);return f._x=!0,void 0!==this._s&&(f._s=this._s),f},Array.prototype.assign=function(){var r,e,n=Array.create(arguments[0]),i=-1,s=this.length,o=n.length,f=new Array(this.length);if(1!==arguments.length)throw new Error(t);if(!n.all(function(t){return"string"==typeof t}))throw new TypeError(t);for(;++i<s;){for(e={},r=-1;++r<o;)e[n[r]]=this[i][r];void 0!==e&&(f[i]=e)}return void 0!==this._s&&(f._s=this._s),f},Array.prototype.seek=function(){var r=arguments[0],e=arguments[1],n=arguments[2],i=this._s;if(arguments.length>=2&&"string"==typeof r&&r.length>0&&("string"==typeof e&&e.length>0||"function"==typeof e))return function(t){for(var s,o=-1,f=t.length;++o<f;){if("string"==typeof e&&t[o][e]===n||"function"==typeof e&&e.call(i,t[o],o,t))return t[o];if(Array.isArray(t[o][r])&&void 0!==(s=arguments.callee(t[o][r])))return s}}(this);throw new Error(t)};var d=function(t){return"number"==typeof t&&isFinite(t)&&Math.floor(t)===t&&Math.abs(t)<=Number.MAX_SAFE_INTEGER};Object.isObject=function(t){return"object"==typeof t&&null!==t&&t instanceof Array==!1},Object.isEqual=function(r,e){if(2!==arguments.length)throw new Error(t);if(r===e)return!0;if(Array.isArray(r)&&Array.isArray(e))return r.length===e.length&&r.all(function(t,n){return Object.isEqual(r[n],e[n])});if(Object.isObject(r)&&Object.isObject(e)){var n,i=Array.create();for(n in r)void 0!==r[n]&&i.push(n);var s=Array.create();for(n in e)void 0!==e[n]&&s.push(n);return i.isAlike(s)&&i.all(function(t){return Object.isEqual(r[t],e[t])})}return"number"==typeof r&&"number"==typeof e&&isNaN(r)&&isNaN(e)?!0:!1},String.prototype.contains=function(t){return this.indexOf(t)>=0},String.prototype.toHashCode=function(){var t=-1,r=this.length,e=0;if(0===r)return e;for(;++t<r;)e=(e<<5)-e+this.charCodeAt(t),e|=0;return e};var w=[["<","&lt;"],[">","&gt;"],["&","&amp;"],['"',"&quot;"]],v=w.toObject("0","1"),x=w.toObject("1","0"),A=new RegExp("["+w.select("0").join("").replace(/\\/g,"\\\\")+"]","g"),E=new RegExp("("+w.select("1").join("|").replace(/\\/g,"\\\\")+")","g"),_=function(t){return v[t]},b=function(t){return x[t]};String.prototype.toEncodedXML=function(){return this.replace(A,_)},String.prototype.toDecodedXML=function(){return this.replace(E,b)};var O=/[a-z][A-Z]|[A-Z]{2,}[a-z]|[0-9][a-zA-Z]|[a-zA-Z][0-9]|[^a-zA-Z0-9 ]/,S=/[A-Z\xc0-\xd6\xd8-\xde]?[a-z\xdf-\xf6\xf8-\xff]+(?:['’](?:d|ll|m|re|s|t|ve))?(?=[\xac\xb1\xd7\xf7\x00-\x2f\x3a-\x40\x5b-\x60\x7b-\xbf\u2000-\u206f \t\x0b\f\xa0\ufeff\n\r\u2028\u2029\u1680\u180e\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200a\u202f\u205f\u3000]|[A-Z\xc0-\xd6\xd8-\xde]|$)|(?:[A-Z\xc0-\xd6\xd8-\xde]|[^\ud800-\udfff\xac\xb1\xd7\xf7\x00-\x2f\x3a-\x40\x5b-\x60\x7b-\xbf\u2000-\u206f \t\x0b\f\xa0\ufeff\n\r\u2028\u2029\u1680\u180e\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200a\u202f\u205f\u3000\d+\u2700-\u27bfa-z\xdf-\xf6\xf8-\xffA-Z\xc0-\xd6\xd8-\xde])+(?:['’](?:D|LL|M|RE|S|T|VE))?(?=[\xac\xb1\xd7\xf7\x00-\x2f\x3a-\x40\x5b-\x60\x7b-\xbf\u2000-\u206f \t\x0b\f\xa0\ufeff\n\r\u2028\u2029\u1680\u180e\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200a\u202f\u205f\u3000]|[A-Z\xc0-\xd6\xd8-\xde](?:[a-z\xdf-\xf6\xf8-\xff]|[^\ud800-\udfff\xac\xb1\xd7\xf7\x00-\x2f\x3a-\x40\x5b-\x60\x7b-\xbf\u2000-\u206f \t\x0b\f\xa0\ufeff\n\r\u2028\u2029\u1680\u180e\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200a\u202f\u205f\u3000\d+\u2700-\u27bfa-z\xdf-\xf6\xf8-\xffA-Z\xc0-\xd6\xd8-\xde])|$)|[A-Z\xc0-\xd6\xd8-\xde]?(?:[a-z\xdf-\xf6\xf8-\xff]|[^\ud800-\udfff\xac\xb1\xd7\xf7\x00-\x2f\x3a-\x40\x5b-\x60\x7b-\xbf\u2000-\u206f \t\x0b\f\xa0\ufeff\n\r\u2028\u2029\u1680\u180e\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200a\u202f\u205f\u3000\d+\u2700-\u27bfa-z\xdf-\xf6\xf8-\xffA-Z\xc0-\xd6\xd8-\xde])+(?:['’](?:d|ll|m|re|s|t|ve))?|[A-Z\xc0-\xd6\xd8-\xde]+(?:['’](?:D|LL|M|RE|S|T|VE))?|\d+|(?:[\u2700-\u27bf]|(?:\ud83c[\udde6-\uddff]){2}|[\ud800-\udbff][\udc00-\udfff])[\ufe0e\ufe0f]?(?:[\u0300-\u036f\ufe20-\ufe23\u20d0-\u20f0]|\ud83c[\udffb-\udfff])?(?:\u200d(?:[^\ud800-\udfff]|(?:\ud83c[\udde6-\uddff]){2}|[\ud800-\udbff][\udc00-\udfff])[\ufe0e\ufe0f]?(?:[\u0300-\u036f\ufe20-\ufe23\u20d0-\u20f0]|\ud83c[\udffb-\udfff])?)*/g,j=/[a-zA-Z0-9]+/g;String.prototype.splitWords=function(){return this.match(O.test(this.toString())?S:j)||[]};var R=/[\xc0-\xd6\xd8-\xde\xdf-\xf6\xf8-\xff]/g,N={"À":"A","Á":"A","Â":"A","Ã":"A","Ä":"A","Å":"A","à":"a","á":"a","â":"a","ã":"a","ä":"a","å":"a","Ç":"C","ç":"c","Ð":"D","ð":"d","È":"E","É":"E","Ê":"E","Ë":"E","è":"e","é":"e","ê":"e","ë":"e","Ì":"I","Í":"I","Î":"I","Ï":"I","ì":"i","í":"i","î":"i","ï":"i","Ñ":"N","ñ":"n","Ò":"O","Ó":"O","Ô":"O","Õ":"O","Ö":"O","Ø":"O","ò":"o","ó":"o","ô":"o","õ":"o","ö":"o","ø":"o","Ù":"U","Ú":"U","Û":"U","Ü":"U","ù":"u","ú":"u","û":"u","ü":"u","Ý":"Y","ý":"y","ÿ":"y","Æ":"Ae","æ":"ae","Þ":"Th","þ":"th","ß":"ss"},I=/[\u0300-\u036f\ufe20-\ufe23\u20d0-\u20f0]/g,C=function(t){return N[t]};String.prototype.toEnglishCase=function(){return this.replace(R,C).replace(I,"")},String.prototype.toCapitalWord=function(t){return void 0===t&&(t=this),t.charAt(0).toUpperCase()+t.substring(1).toLowerCase()};var M=/['’]/g;String.prototype.toCamelCase=function(){var t=this.toEnglishCase().replace(M,"").splitWords().map(String.prototype.toCapitalWord).join("");return t.length>0&&(t=t[0].toLowerCase()+t.substring(1)),t},String.prototype.toTrainCase=function(){return this.toEnglishCase().replace(M,"").splitWords().join("-").toLowerCase()},String.prototype.latchOf=function(t,r){for(var e=0,n=-1,i=this.length;++n<i;)if(this.substring(n,n+t.length)===t)e++,n+=t.length-1;else if(this.substring(n,n+r.length)===r){if(e--,0===e)return n;n+=r.length-1}return-1},Map.prototype.toArray=function(){return Array.create(this)},Map.prototype.toObject=function(){return Array.create(this).toObject("0","1")},Function.prototype.debounce=function(t){var r,e,n,i,s=this;return function(){n=this,e=[].slice.call(arguments,0),i=new Date;var o=function(){var f=new Date-i;t>f?r=setTimeout(o,t-f):(r=void 0,s.apply(n,e))};void 0===r&&(r=setTimeout(o,t))}}}();