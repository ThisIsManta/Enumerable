/*
 * @name Enumerable
 * @version 4.1.0
 * @author Anantachai Saothong <thisismanta@outlook.com>
 * @license MIT
 * https://github.com/ThisIsManta/Enumerable.git
*/
!function(){var t="one or more parameters were not valid",r="an index was out-of-range",i="a length was not valid",e="a string cannot be empty",n="an array cannot be empty",o="an array had no matching members",s="an array had more than one matching member",f="an array had too many matching members",h="one or more array members were not an object",u="one or more array members were not a string",l="[invokeWhich] must be called after [groupBy]",a="a non-object type was not allowed";Function.isFunction=function(t){return"function"==typeof t||"[object Function]"===Object.prototype.toString.call(t)},Function.prototype.debounce=function(r){if(Number.isSafeInteger(r)&&r>0){var i,e,n,o=this,s=function(){i=void 0,o.apply(e,n)},f=function(){e=this,n=Array.prototype.slice.call(arguments,0),void 0!==i&&clearTimeout(i),i=setTimeout(s,r)};return f.cancel=function(){clearTimeout(i)},f}throw new Error(t)},Function.prototype.immediate=function(r){if(Number.isSafeInteger(r)&&r>0){var i,e=this,n=function(){i=void 0};return function(){void 0===i?e.apply(this,arguments):clearTimeout(i),i=setTimeout(n,r)}}throw new Error(t)},Function.prototype.cache=function(){var r=arguments.length>0?arguments[0]:8,i=this,e=[],n=[];if(Number.isSafeInteger(r)&&r>0){var o=function(){var t=Array.prototype.slice.call(arguments,0);if(e.length>0&&Object.isEqual(e[0],t))return n[0];if(e.length>1&&Object.isEqual(e[1],t))return n[1];var o=e.indexOf(function(r){return Object.isEqual(r,t)});return o===-1?(e.unshift(t),n.unshift(i.apply(this,arguments)),e.length>r&&(e.pop(),n.pop())):(e.unshift(t),n.unshift(n[o]),e.splice(o+1,1),n.splice(o+1,1)),n[0]};return o.forget=function(){e=[],n=[]},o}throw new Error(t)},Array.create=function(){var r,e,n,o=arguments[0],s=arguments[1],f=arguments[2],h=-1;if("object"==typeof o&&null!==o)if(o instanceof Array)n=o,n._m=!0;else if(o instanceof Map)n=new Array(o.size),o.forEach(function(t,r){n[++h]=[r,t]}),n._m=!1;else if("number"==typeof o.length){var u=o.length;if(!(Number.isSafeInteger(u)&&u>=0))throw new Error(i);for(n=new Array(u);++h<u;)n[h]=o[h];n._m=!1}else{n=[];var l=arguments.length>=2&&(arguments[arguments.length-1]===!0||arguments[arguments.length-2]===!0);if("string"==typeof s){void 0!==f&&"string"==typeof f||(f="value");for(r in o)void 0!==o[r]&&(l||"function"!=typeof o[r]&&"_"!==r.charAt(0))&&(e={},e[s]=r,e[f]=o[r],n[++h]=e)}else for(r in o)void 0!==o[r]&&(l||"function"!=typeof o[r]&&"_"!==r.charAt(0))&&(n[++h]={name:r,value:o[r]});n._m=!1}else if("string"==typeof o)n="string"==typeof s||s instanceof RegExp?o.split(s):o.split(""),n._m=!1;else if(Number.isSafeInteger(o)&&o>=0){if(n=new Array(o),void 0!==s)for(;++h<o;)n[h]=s;n._m=!1}else{if(0!==arguments.length)throw new Error(t);n=[],n._m=!1}return n},Array.prototype.bind=function(t){if(0===arguments.length)throw new TypeError(a);return void 0===t||null===t?delete this._s:"object"==typeof t&&(this._s=t),this};var c=function(t){if("object"==typeof t&&null!==t){var r,i;if(t instanceof Array){var e=t.length;for(r=new Array(e),i=-1;++i<e;)r[i]=c(t[i]);return r}r={};for(i in t)r[i]=c(t[i]);return r}return t};Array.prototype.clone=function(){var t,r=!!arguments[0];return t=r===!0?c(this):this.slice(0),t._m=!1,void 0!==this._s&&(t._s=this._s),t},Array.prototype.toImmutable=function(){return void 0===this._m||this._m===!0?this.clone():this},Array.prototype.toObject=function(){var r,i=arguments[0],e=arguments[1],n=-1,o=this.length,s={},f=this._s;if(0===arguments.length)for(;++n<o;)r=this[n],s[r.toString()]=r;else if("string"==typeof i)if(1===arguments.length)for(;++n<o;)r=this[n][i],null===r&&(r="null"),void 0!==r&&(s[r.toString()]=this[n]);else if("string"==typeof e)for(;++n<o;)r=this[n][i],null===r&&(r="null"),void 0!==r&&(s[r.toString()]=this[n][e]);else if(Function.isFunction(e))for(;++n<o;)r=this[n][i],null===r&&(r="null"),void 0!==r&&(s[r.toString()]=e.call(f,this[n],n,this));else for(;++n<o;)r=this[n][i],null===r&&(r="null"),void 0!==r&&(s[r.toString()]=e);else{if(!Function.isFunction(i))throw new Error(t);if(1===arguments.length)for(;++n<o;)r=i.call(f,this[n],n,this),null===r&&(r="null"),void 0!==r&&(s[r.toString()]=this[n]);else if("string"==typeof e)for(;++n<o;)r=i.call(f,this[n],n,this),null===r&&(r="null"),void 0!==r&&(s[r.toString()]=this[n][e]);else if(Function.isFunction(e))for(;++n<o;)r=i.call(f,this[n],n,this),null===r&&(r="null"),void 0!==r&&(s[r.toString()]=e.call(f,this[n],n,this));else for(;++n<o;)r=i.call(f,this[n],n,this),null===r&&(r="null"),void 0!==r&&(s[r.toString()]=e)}return s},Array.prototype.toMap=function(){var r=arguments[0],i=arguments[1],e=-1,n=this.length,o=new Map,s=this._s;if(0===arguments.length)for(;++e<n;)o.set(e,this[e]);else if("string"==typeof r)if(1===arguments.length)for(;++e<n;)o.set(this[e][r],this[e]);else if("string"==typeof i)for(;++e<n;)o.set(this[e][r],this[e][i]);else if(Function.isFunction(i))for(;++e<n;)o.set(this[e][r],i.call(s,this[e],e,this));else for(;++e<n;)o.set(this[e][r],i);else{if(!Function.isFunction(r))throw new Error(t);if(1===arguments.length)for(;++e<n;)o.set(r.call(s,this[e],e,this),this[e]);else if("string"==typeof i)for(;++e<n;)o.set(r.call(s,this[e],e,this),this[e][i]);else if(Function.isFunction(i))for(;++e<n;)o.set(r.call(s,this[e],e,this),i.call(s,this[e],e,this));else for(;++e<n;)o.set(r.call(s,this[e],e,this),i)}return o};var g=Array.prototype.toString;Array.prototype.toString=function(){var r=arguments[0];if(0===arguments.length)return g.call(this);if(1===arguments.length&&"string"==typeof r)return this.join(r);throw new Error(t)},Array.prototype.where=function(){var r,i,e,n=arguments[0],o=arguments[1],s=-1,f=-1,h=this.length,u=[];if(Function.isFunction(n)&&1===arguments.length)u=this.filter(n,this._s);else if("object"==typeof n&&1===arguments.length)for(;++s<h;){r=1,i=this[s];for(e in n)if(r&=i[e]===n[e],!r)break;r&&(u[++f]=i)}else{if("string"!=typeof n||2!==arguments.length)throw new Error(t);for(;++s<h;)i=this[s],i[n]===o&&(u[++f]=i)}return void 0!==this._s&&(u._s=this._s),u},Array.prototype.select=function(){var r,i,n,o,s=arguments[0],f=-1,h=this.length;if(1!==arguments.length)throw new Error(t);if(Function.isFunction(s))for(o=new Array(h);++f<h;)o[f]=s.call(this._s,this[f],f,this);else if("string"==typeof s||Number.isSafeInteger(s)&&(s=s.toString())){if(o=new Array(h),0===s.length)throw new Error(e);for(;++f<h;)o[f]=this[f][s]}else{if(!Array.isArray(s))throw new Error(t);for(i=s.length,o=new Array(h);++f<h;){for(r=-1,n={};++r<i;)n[s[r]]=this[f][s[r]];o[f]=n}}return void 0!==this._s&&(o._s=this._s),o},Array.prototype.invoke=function(){var i,e=Array.prototype.slice.call(arguments).indexOf(Function.isFunction),n=e>=1?arguments[0]:0,o=e>=2?arguments[1]:this.length,s=e>=3?arguments[2]:n<o?1:-1,f=arguments[e],h=this._s;if(!(Function.isFunction(f)&&Number.isSafeInteger(n)&&n>=0&&Number.isSafeInteger(o)&&Number.isSafeInteger(s)&&0!==s))throw new Error(t);if(!(o>=0&&o<=this.length))throw new RangeError(r);if(0===n&&o>=1024&&1===s){for(;n<o%8&&i!==!1;)i=f.call(h,this[n],n++,this);for(;n<o&&i!==!1;)i!==!1&&(i=f.call(h,this[n],n++,this)),i!==!1&&(i=f.call(h,this[n],n++,this)),i!==!1&&(i=f.call(h,this[n],n++,this)),i!==!1&&(i=f.call(h,this[n],n++,this)),i!==!1&&(i=f.call(h,this[n],n++,this)),i!==!1&&(i=f.call(h,this[n],n++,this)),i!==!1&&(i=f.call(h,this[n],n++,this)),i!==!1&&(i=f.call(h,this[n],n++,this))}else if(s>0)for(;n<o&&i!==!1;)i=f.call(h,this[n],n,this),n+=s;else for(n--;n>=o&&i!==!1;)i=f.call(h,this[n],n,this),n+=s;return this},Array.prototype.invokeAsync=function(){var i,e,n=Array.prototype.slice.call(arguments).indexOf(Function.isFunction),o=n>=1?arguments[0]:0,s=n>=2?arguments[1]:this.length,f=n>=3?arguments[2]:o<s?1:-1,h=arguments[n],u=void 0!==arguments[n+1]?arguments[n+1]:1,l=this,a=this._s;if(!(Function.isFunction(h)&&Number.isSafeInteger(o)&&o>=0&&Number.isSafeInteger(s)&&Number.isSafeInteger(f)&&0!==f&&Number.isSafeInteger(u)&&u>0))throw new Error(t);if(!(s>=0&&s<=this.length))throw new RangeError(r);return f>0?e=new Promise(function(t,r){i=function(){for(var e,n=u;o<s&&n-- >0&&e!==!1;)e=h.call(a,l[o],o,l),o+=f;e===!1?r():o<s?setTimeout(i,2):t(l)}}):(o--,e=new Promise(function(t,r){i=function(){for(var e,n=u;o>=s&&n-- >0&&e!==!1;)e=h.call(a,l[o],o,l),o+=f;e===!1?r():o>=s?setTimeout(i,2):t(l)}})),setTimeout(i),e},Array.prototype.invokeWhich=function(){var r=arguments[0],i=arguments[1];if(void 0===this._g)throw new Error(l);if(!Function.isFunction(i)||2!==arguments.length)throw new Error(t);return r=void 0===r?"undefined":null===r?"null":r.toString(),this._g[r].invoke(i),this},Array.prototype.take=function(){var i,e=arguments[0],n=arguments[1],o=-1,s=this.length;if(Function.isFunction(e)){for(;++o<s&&e.call(this._s,this[o],o,this)!==!1;);i=this.slice(0,o)}else if(!isFinite(e)||e>=Number.MAX_SAFE_INTEGER)i=this.toImmutable();else{if(!Number.isSafeInteger(e))throw new Error(t);if(e<0||e>s)throw new RangeError(r);if(Number.isSafeInteger(n)){if(n<0||n>s)throw new RangeError(r);if(e>n)throw new RangeError(ERR_SGS);i=this.slice(e,n)}else i=this.slice(0,e)}return void 0!==this._s&&(i._s=this._s),i},Array.prototype.skip=function(){var i,e,n=arguments[0],o=arguments[1],s=-1,f=this.length;if(Function.isFunction(n)){for(i=f;++s<f;)if(n.call(this._s,this[s],s,this)===!1){i=s;break}return this.take.call(this,i,f)}if(!isFinite(n)||n>=Number.MAX_SAFE_INTEGER)e=[];else{if(!Number.isSafeInteger(n))throw new Error(t);if(n<0||n>f)throw new RangeError(r);if(Number.isSafeInteger(o)){if(o<0||o>f)throw new RangeError(r);if(n>o)throw new RangeError(ERR_SGS);e=this.toImmutable(),e.splice(n,o-n)}else e=this.slice(n)}return void 0!==this._s&&(e._s=this._s),e},Array.prototype.trim=function(){var t=arguments[0],r=-1,i=this.length,e=this.toImmutable();if(Function.isFunction(t)){for(;--i>=0;)if(!t.call(this._s,this[i],i,this)){e.splice(i+1,this.length-i);break}for(;++r<i;)if(!t.call(this._s,this[r],r,this)){e.splice(0,r);break}}else{for(;--i>=0;)if(Object.isEqual(this[i],t)===!1){e.splice(i+1,this.length-i);break}for(;++r<i;)if(Object.isEqual(this[r],t)===!1){e.splice(0,r);break}}return e},Array.prototype.flatten=function(){for(var t,r,i,e=!!arguments[0],n=-1,o=-1,s=this.length,f=[];++n<s;)if(i=this[n],Array.isArray(i)){if(i.length>0)for(e===!0&&(i=i.flatten(e)),t=-1,r=i.length;++t<r;)f[++o]=i[t]}else f[++o]=i;return void 0!==this._s&&(f._s=this._s),f},Array.prototype.any=function(){var t=arguments[0],r=arguments[1],i=-1,e=this.length;if(0===e)return!1;if(0===arguments.length)return!0;if(Function.isFunction(t)){for(;++i<e;)if(t.call(this._s,this[i],i,this))return!0;return!1}if("string"==typeof t&&2===arguments.length){for(;++i<e;)if(this[i][t]===r)return!0;return!1}for(;++i<e;)if(this[i]===t)return!0;return!1},Array.prototype.all=function(){var r=arguments[0],i=arguments[1],e=-1,n=this.length;if(0===n)return!0;if(0===arguments.length)throw new Error(t);if(Function.isFunction(r)){for(;++e<n;)if(!r.call(this._s,this[e],e,this))return!1;return!0}if("string"==typeof r&&2===arguments.length){for(;++e<n;)if(this[e][r]!==i)return!1;return!0}for(;++e<n;)if(this[e]!==r)return!1;return!0},Array.prototype.has=function(){return this.indexOf.apply(this,arguments)>=0},Array.prototype.isEqual=function(){var r=Array.create(arguments[0]),i=arguments[1],e=-1,n=this.length;if(n!==r.length)return!1;if(1===arguments.length){for(;++e<n;)if(!(Array.isArray(this[e])&&Array.isArray(r[e])&&this[e].isEqual(r[e]))&&this[e]!==r[e])return!1;return!0}if(Function.isFunction(i)&&2===arguments.length){for(;++e<n;)if(!i.call(this._s,this[e],r[e]))return!1;return!0}throw new Error(t)},Array.prototype.isAlike=function(){var r,i,e,n=Array.create(arguments[0]).toImmutable(),o=arguments[1],s=-1,f=this.length;if(f!==n.length||0===f!=(0===n.length))return!1;if(1===arguments.length){for(;++s<f;){if(e=n.indexOf(this[s]),e<0)return!1;n.removeAt(e)}return 0===n.length}if(Function.isFunction(o)&&2===arguments.length){for(;++s<f;){for(e=this[s],r=-1,i=n.length;++r<i&&!o.call(this._s,e,n[r]););if(r===i)return!1;n.removeAt(r)}return 0===n.length}throw new Error(t)},Array.prototype.isSubset=function(){var r=this,i=Array.create(arguments[0]),e=arguments[1],n=-1,o=this.length,s=i._s;if(i._s=this._s,1===arguments.length){for(;++n<o;)if(i.indexOf(this[n])===-1)return!1}else{if(!Function.isFunction(e)||2!==arguments.length)throw new Error(t);for(var f=function(t){return e.call(this,r[n],t)};++n<o;)if(i.indexOf(f)===-1)return!1}return void 0===s?delete i._s:i._s=s,!0};var p=Array.prototype.indexOf;Array.prototype.indexOf=function(){var r=arguments[0],i=arguments[1],e=-1,n=this.length;if(arguments.length>=1){if(Function.isFunction(r)){for(Number.isSafeInteger(i)&&(e=i>=0?i-1:n+i-1),e<0&&(e=-1);++e<n;)if(r.call(this._s,this[e],e,this))return e;return-1}return p.apply(this,arguments)}throw new Error(t)};var y=Array.prototype.lastIndexOf;Array.prototype.lastIndexOf=function(){var r=arguments[0],i=arguments[1],e=this.length;if(arguments.length>=1){if(Function.isFunction(r)){for(Number.isSafeInteger(i)&&(e=i>=0?i:this.length+i+1),e<0&&(e=this.length);--e>=0;)if(r.call(this._s,this[e],e,this))return e;return-1}return y.apply(this,arguments)}throw new Error(t)};var d=Array.prototype.find;Array.prototype.find=function(){var r,i=arguments[0],e=arguments[1];if(Function.isFunction(i))return d.apply(this,arguments);if("string"==typeof i&&2===arguments.length)return r=this.indexOf.call(this,function(t){return t[i]===e}),r>=0?this[r]:void 0;throw new Error(t)},Array.prototype.first=function(){if(0===this.length)throw new Error(n);if(0===arguments.length)return this[0];var t=this.indexOf.apply(this,arguments);if(t>=0)return this[t];throw new Error(o)},Array.prototype.firstOrNull=function(){if(0===this.length)return null;if(0===arguments.length)return this[0];var t=this.indexOf.apply(this,arguments);return t>=0?this[t]:null},Array.prototype.last=function(){if(0===this.length)throw new Error(n);if(0===arguments.length)return this[this.length-1];var t=this.lastIndexOf.apply(this,arguments);if(t>=0)return this[t];throw new Error(o)},Array.prototype.lastOrNull=function(){if(0===this.length)return null;if(0===arguments.length)return this[this.length-1];var t=this.lastIndexOf.apply(this,arguments);return t>=0?this[t]:null},Array.prototype.single=function(){if(0===this.length)throw new Error(n);if(0===arguments.length){if(1===this.length)return this[0];throw new Error(s)}if(1===arguments.length){var r=arguments[0],i=this.indexOf.call(this,r);if(i>=0){if(i===this.lastIndexOf.call(this,r))return this[i];throw new Error(f)}throw new Error(o)}throw new Error(t)},Array.prototype.singleOrNull=function(){if(0===this.length)return null;if(0===arguments.length)return 1===this.length?this[0]:null;if(1===arguments.length){var r=this.indexOf.call(this,arguments[0]);return r>=0&&r===this.lastIndexOf.call(this,arguments[0])?this[r]:null}throw new Error(t)},Array.prototype.distinct=function(){var r,i=arguments[0],e={},n=-1,o=-1,s=this.length,f=!1,h=!1,u=[];if(0===arguments.length)for(;++n<s;)r=this[n],void 0===r?f===!1&&(f=!0,u[++o]=this[n]):null===r?h===!1&&(h=!0,u[++o]=this[n]):void 0===e[r=r.toString()]&&(e[r]=!0,u[++o]=this[n]);else if("string"==typeof i&&i.length>0&&1===arguments.length)for(;++n<s;)r=this[n][i],void 0===r?f===!1&&(f=!0,u[++o]=this[n]):null===r?h===!1&&(h=!0,u[++o]=this[n]):void 0===e[r=r.toString()]&&(e[r]=!0,u[++o]=this[n]);else{if(!Function.isFunction(i)||1!==arguments.length)throw new Error(t);for(;++n<s;)r=i.call(this._s,this[n],n,this),void 0===r?f===!1&&(f=!0,u[++o]=this[n]):null===r?h===!1&&(h=!0,u[++o]=this[n]):void 0===e[r=r.toString()]&&(e[r]=!0,u[++o]=this[n])}return void 0!==this._s&&(u._s=this._s),u},Array.prototype.add=function(){var i=arguments[0],e=arguments[1];if(1===arguments.length||e===this.length)this.push(i);else{if(!Number.isSafeInteger(e)||2!==arguments.length)throw new Error(t);if(!(e>=0&&e<=this.length))throw new RangeError(r);this.splice(e,0,i)}return this},Array.prototype.addRange=function(){var i=Array.create(arguments[0]),e=arguments[1];if(1===arguments.length||e===this.length)Array.prototype.splice.apply(this,[this.length,0].concat(i));else{if(!Number.isSafeInteger(e)||2!==arguments.length)throw new Error(t);if(!(e>=0&&e<=this.length))throw new RangeError(r);1===i.length?this.splice(e,0,i[0]):i.length>1&&Array.prototype.splice.apply(this,[e,0].concat(i))}return this},Array.prototype.remove=function(){var r,i=arguments[0],e=arguments[1];if(arguments.length<=2)return r=this.indexOf(i),r>=0&&(!Number.isSafeInteger(e)||r>=e)?this.removeAt(r):this;throw new Error(t)},Array.prototype.removeAt=function(){var i=arguments[0];if(1!==arguments.length)throw new Error(t);if(!(Number.isSafeInteger(i)&&i>=0&&i<=this.length))throw new RangeError(r);return this.splice(i,1),this},Array.prototype.removeRange=function(){var r=Array.create(arguments[0]),i=-1,e=r.length;if(1!==arguments.length)throw new Error(t);for(;++i<e;)this.remove(r[i]);return this},Array.prototype.removeAll=function(){var r=arguments[0];if(0===arguments.length)this.splice(0,this.length);else{if(1!==arguments.length)throw new Error(t);for(var i=this.length;--i>=0;)this[i]===r&&this.splice(i,1)}return this},Array.prototype.split=function(){var r=arguments[0],i=arguments[1],e=-1,n=0,o=this.length,s=[],f=this._s;if(1===arguments.length)if(Function.isFunction(r))for(;++e<o;)r.call(f,this[e],e,this)&&(s.push(this.slice(n,e)),n=e+1);else for(;++e<o;)this[e]===r&&(s.push(this.slice(n,e)),n=e+1);else{if("string"!=typeof r||2!==arguments.length)throw new Error(t);for(;++e<o;)this[e][r]===i&&(s.push(this.slice(n,e)),n=e+1)}return this.length>0&&n<=o&&s.push(this.slice(n)),void 0!==this._s&&(s._s=this._s),s},Array.prototype.splitAt=function(){var i=arguments[0],e=[];if(Number.isSafeInteger(i)&&1===arguments.length){if(i>=0&&i<this.length)return e.push(this.slice(0,i)),e.push(this.slice(i)),void 0!==this._s&&(e._s=this._s),e;throw new RangeError(r)}throw new Error(t)},Array.prototype.replace=function(){var r=arguments[0],i=arguments[1],e=arguments[2],n=-1,o=this.length;if(!(arguments.length>=2))throw new Error(t);if(Number.isSafeInteger(e)||(e=1/0),Function.isFunction(r))for(;++n<o&&e>0;)r.call(this._s,this[n],n,this)&&(this[n]=i,e--);else for(;++n<o&&e>0;)this[n]===r&&(this[n]=i,e--);return this},Array.prototype.replaceAt=function(){var i=arguments[0],e=arguments[1];if(2!==arguments.length)throw new Error(t);if(!Number.isSafeInteger(i)||i<0||i>=this.length)throw new RangeError(r);return this[i]=e,this},Array.prototype.union=function(){var r=Array.create(arguments[0]),i=-1,e=this.length-1,n=r.length,o=this.toImmutable();if(1===arguments.length){for(;++i<n;)this.has(r[i])||(o[++e]=r[i]);return o}throw new Error(t)},Array.prototype.intersect=function(){var r=Array.create(arguments[0]),i=-1,e=-1,n=this.length,o=[];if(1===arguments.length){for(;++i<n;)r.has(this[i])&&(o[++e]=this[i]);return o._m=!1,void 0!==this._s&&(o._s=this._s),o}throw new Error(t)},Array.prototype.difference=function(){var r=Array.create(arguments[0]),i=-1,e=-1,n=this.length,o=[];if(1===arguments.length){for(;++i<n;)r.has(this[i])||(o[++e]=this[i]);return o._m=!1,void 0!==this._s&&(o._s=this._s),o}throw new Error(t)};var w=Array.prototype.sort;Array.prototype.sortBy=function(){var r,i=arguments[0],n=arguments[1],o=this._s;if(arguments.length<=2){if(Array.isArray(i)){if("string"==typeof i&&i.length>0){var s=i;i=function(t){return t[s]}}var f=this.length;if(1===arguments.length)r=this.select(function(t,r){var e=i.indexOf(t);return{v:t,r:e>=0?e:f+r}});else{if(!Function.isFunction(i))throw new Error(t);r=this.select(function(t,r){var e=n.indexOf(i.apply(o,arguments));return{v:t,r:e>=0?e:f+r}})}i=void 0}else if(Function.isFunction(i))r=this.select(function(t,r){return{v:t,r:i.call(o,t,r,this),i:r}});else{if("string"!=typeof i)throw new Error(t);if(0===i.length)throw new Error(e);r=this.select(function(t){return{v:t,r:t[i]}})}return this.length<=0?this:(n!==!0?w.call(r,function(t,r){return t.r===r.r?t.i-r.i:t.r>r.r||void 0===t.r||null===t.r||""===t.r?1:t.r<r.r||void 0===r.r||null===r.r||""===r.r?-1:t.r-r.r}):w.call(r,function(t,r){return t.r===r.r?t.i-r.i:t.r>r.r||void 0===t.r||null===t.r||""===t.r?-1:t.r<r.r||void 0===r.r||null===r.r||""===r.r?1:r.r-t.r}),r.select("v"))}var h=Array.prototype.slice.call(arguments).select(function(r,i){if(i%2===0){if("string"==typeof r)return function(t){return t[r]};if(Function.isFunction(r))return r;throw new Error(t)}return void 0===r||!!r});h.length%2===1&&h.push(!1);var u,l,a,c,g=h.length/2;return r=this.clone(),w.call(r,function(t,r){for(u=-1;++u<g;){if(a=h[2*u].call(o,t),c=h[2*u].call(o,r),void 0===a||null===a||""===a){if(void 0===c||null===c||""===c)continue;l=1}else if(void 0===c||null===c||""===c)l=-1;else{if(a===c)continue;l=a<c?-1:1}return l*(h[2*u+1]===!0?-1:1)}return 0}),r},Array.prototype.groupBy=function(){var r,i,n,o=arguments[0],s=-1,f=this.length,h={},u={},l=[];if("string"==typeof o){if(0===o.length)throw new Error(e);i=o,o=function(t){return t[i]}}if(!Function.isFunction(o))throw new Error(t);for(;++s<f;)r=o.call(this._s,this[s],s,this),n=void 0===r?"undefined":null===r?"null":r.toString(),void 0===h[n]?(h[n]=[this[s]],u[n]=r):h[n].add(this[s]);for(n in h)r=h[n],r._m=!1,r._s=this._s,r.name=u[n],l.add(r);return l._g=h,void 0!==this._s&&(l._s=this._s),l},Array.prototype.groupOf=function(){var r,i,e=arguments[0],n=-1,o=this.length;if(Number.isSafeInteger(e)&&e>0&&1===arguments.length){for(i=new Array(Math.ceil(o/e));++n<o;)r=i[Math.floor(n/e)],void 0===r&&(r=i[Math.floor(n/e)]=[]),r.push(this[n]);return void 0!==this._s&&(i._s=this._s),i}throw new Error(t)},Array.prototype.joinBy=function(){var r,i,n,o=Array.create(arguments[0]),s=arguments[1],f=arguments[2],u=-1,l=this.length,a=o.length,c=this._s;if(this.any(function(t){return"object"!=typeof t})||o.any(function(t){return"object"!=typeof t}))throw new Error(h);if("string"==typeof s){if(0===s.length)throw new Error(e);for(;++u<l;){for(r=-1,i=null;++r<a;)if(o[r][s]===this[u][s]){i=o[r];break}if(null!==i)for(n in i)f?this[u][n]=i[n]:void 0===this[u][n]&&(this[u][n]=i[n])}}else{if(!Function.isFunction(s))throw new Error(t);for(;++u<l;){for(r=-1,i=null;++r<a;)if(s.call(c,this[u],u,this)===s.call(c,o[r],r,o)){i=o[r];break}if(null!==i)for(n in i)f?this[u][n]=i[n]:void 0===this[u][n]&&(this[u][n]=i[n])}}return this},Array.prototype.countBy=function(){var r=arguments[0],i=arguments[1],e=-1,n=this.length,o=0,s=this._s;if(arguments.length<1||arguments.length>2)throw new Error(t);if("string"==typeof r)for(;++e<n;)this[e][r]===i&&o++;else if(Function.isFunction(r))for(;++e<n;)r.call(s,this[e],e,this)&&o++;else for(;++e<n;)this[e]===r&&o++;return o},Array.prototype.min=function(){var r,i,n=arguments[0],o=0,s=0,f=this.length,h=this._s;if(0===f)return null;if(1===f)return this[0];if(void 0===n)for(i=this[0];++o<f;)r=this[o],r<i&&(s=o,i=r);else if("string"==typeof n){if(0===n.length)throw new Error(e);for(i=this[0][n];++o<f;)r=this[o][n],r<i&&(s=o,i=r)}else{if(!Function.isFunction(n))throw new Error(t);for(i=n.call(h,this[0],0,this);++o<f;)r=n.call(h,this[o],o,this),r<i&&(s=o,i=r)}return s>=0?this[s]:null},Array.prototype.max=function(){var r,i,n=arguments[0],o=0,s=0,f=this.length,h=this._s;if(0===f)return null;if(1===f)return this[0];if(void 0===n)for(i=this[0];++o<f;)r=this[o],r>i&&(s=o,i=r);else if("string"==typeof n){if(0===n.length)throw new Error(e);for(i=this[0][n];++o<f;)r=this[o][n],r>i&&(s=o,i=r)}else{if(!Function.isFunction(n))throw new Error(t);for(i=n.call(h,this[0],0,this);++o<f;)r=n.call(h,this[o],o,this),r>i&&(s=o,i=r)}return s>=0?this[s]:null},Array.prototype.mod=function(){var r,i=arguments[0],n={},o=-1,s=this.length,f=this._s;if(0===s)return null;if(1===s)return this[0];if(void 0===i)for(;++o<s;)r=this[o].toString(),n[r]?n[r].c+=1:n[r]={i:o,c:1};else if("string"==typeof i){if(0===i.length)throw new Error(e);for(;++o<s;)r=this[o][i].toString(),n[r]?n[r].c+=1:n[r]={i:o,c:1}}else{if(!Function.isFunction(i))throw new Error(t);for(;++o<s;)r=i.call(f,this[o],o,this).toString(),n[r]?n[r].c+=1:n[r]={i:o,c:1}}return this[Array.create(n).max(function(t){return t.value.c}).value.i]},Array.prototype.sum=function(){var r,i,n=arguments[0],o=0,s=this.length,f=this._s;if(0===s)return 0;if(void 0===n)for(i=this[0];++o<s;)r=this[o],isNaN(r)===!1&&(i+=r);else if("string"==typeof n){if(0===n.length)throw new Error(e);for(i=this[0][n];++o<s;)r=this[o][n],isNaN(r)===!1&&(i+=r)}else{if(!Function.isFunction(n))throw new Error(t);for(i=n.call(f,this[0],0,this);++o<s;)r=n.call(f,this[o],o,this),isNaN(r)===!1&&(i+=r)}return i},Array.prototype.avg=function(){return this.sum.apply(this,arguments)/this.length},Array.prototype.norm=function(){var r,i=arguments[0],e=-1,n=-1,o=this.length,s=[],f=this._s;if(0===arguments.length)for(;++e<o;)r=this[e],r&&("string"!=typeof r||r.trim().length>0)&&("number"!=typeof r||isFinite(r))&&(s[++n]=r);else if("string"==typeof i)for(;++e<o;)r=this[e][i],r&&("string"!=typeof r||r.trim().length>0)&&("number"!=typeof r||isFinite(r))&&(s[++n]=this[e]);else{if(!Function.isFunction(i))throw new Error(t);for(;++e<o;)r=i.call(f,this[e],e,this),r&&("string"!=typeof r||r.trim().length>0)&&("number"!=typeof r||isFinite(r))&&(s[++n]=this[e])}return void 0!==this._s&&(s._s=this._s),s},Array.prototype.cast=function(){var r,i=arguments[0],e=Function.isFunction(i)?i.name:i,n=-1,o=-1,s=this.length,f=[];if("string"==typeof e){if(e=e.toLowerCase(),"string"===e)for(;++n<s;)r=this[n],"string"==typeof r?f[++o]=r:void 0!==r&&null!==r&&void 0!==r.toString&&Function.isFunction(r)===!1&&(r=r.toString(),/^\[object \w+\]$/.test(r)===!1&&(f[++o]=r));else if("number"===e)for(;++n<s;)r=this[n],"number"!=typeof r||isNaN(r)?"string"==typeof r&&(r=parseFloat(r),isNaN(r)||(f[++o]=r)):isNaN(r)||(f[++o]=r);else if("boolean"===e)for(;++n<s;)r=this[n],void 0!==r&&null!==r&&void 0!==r.toString&&(r=r.toString().trim().toLowerCase(),"true"===r?f[++o]=!0:"false"===r&&(f[++o]=!1));else if("array"===e)for(;++n<s;)r=this[n],Array.isArray(r)?f[++o]=r:void 0!==r&&null!==r&&"function"!=typeof r&&Number.isSafeInteger(r.length)&&(f[++o]=Array.create(r));else if("object"===e)for(;++n<s;)r=this[n],null===r||"object"!=typeof r||Array.isArray(r)||(f[++o]=r);else if("function"===e)for(;++n<s;)r=this[n],Function.isFunction(r)&&(f[++o]=r);else{if(void 0===window.jQuery||"jquery"!==e&&i!==window.jQuery)throw new Error(t);for(;++n<s;)r=this[n],("string"==typeof r||"object"==typeof r&&(r instanceof HTMLElement||r instanceof jQuery))&&(f[++o]=window.jQuery(r))}return void 0!==this._s&&(f._s=this._s),f}throw new Error(t)},Array.prototype.cross=function(){var r,i=Array.create(arguments[0]),e=-1,n=-1,o=this.length,s=i.length,f=new Array(o*s);if(1!==arguments.length)throw new Error(t);if(this._x===!0)for(;++e<o;)for(r=-1;++r<s;)f[++n]=this[e].slice(0).add(i[r]);else for(;++e<o;)for(r=-1;++r<s;)f[++n]=[this[e]].add(i[r]);return f._x=!0,void 0!==this._s&&(f._s=this._s),f},Array.prototype.zip=function(){var r,i,e=Array.create(arguments[0]),n=-1,o=this.length,s=e.length,f=new Array(this.length);if(1!==arguments.length)throw new Error(t);if(!e.all(function(t){return"string"==typeof t}))throw new TypeError(u);for(;++n<o;){for(i={},r=-1;++r<s;)i[e[r]]=this[n][r];void 0!==i&&(f[n]=i)}return void 0!==this._s&&(f._s=this._s),f},Array.prototype.seek=function(){var r=arguments[0],i=arguments[1],e=arguments[2],n=this._s;if(arguments.length>=2&&"string"==typeof r&&r.length>0&&("string"==typeof i&&i.length>0||Function.isFunction(i)))return function(t){for(var o,s=-1,f=t.length;++s<f;){if("string"==typeof i&&t[s][i]===e||Function.isFunction(i)&&i.call(n,t[s],s,t))return t[s];if(Array.isArray(t[s][r])&&void 0!==(o=arguments.callee(t[s][r])))return o}}(this);throw new Error(t)},Object.isObject=function(t){return"object"==typeof t&&null!==t&&t instanceof Array==!1&&"[object Function]"!==Object.prototype.toString.call(t)},Object.isEmpty=function(t){if(t instanceof Map||t instanceof Set)return 0===t.size;if(Object.isObject(t)){for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r))return!1;return!0}return!!Array.isArray(t)&&0===t.length},Object.isEqual=function(r,i){if(2!==arguments.length)throw new Error(t);if(r===i)return!0;if(Array.isArray(r)&&Array.isArray(i))return r.length===i.length&&r.all(function(t,e){return Object.isEqual(r[e],i[e])});if(Object.isObject(r)&&Object.isObject(i)){var e,n=Array.create();for(e in r)void 0!==r[e]&&n.push(e);var o=Array.create();for(e in i)void 0!==i[e]&&o.push(e);return n.isAlike(o)&&n.all(function(t){return Object.isEqual(r[t],i[t])})}return!("number"!=typeof r||"number"!=typeof i||!isNaN(r)||!isNaN(i))};var v=function(t,r){for(var i in r)r.hasOwnProperty(i)&&(Object.isObject(t[i])&&Object.isObject(r[i])?v(t[i],r[i]):void 0!==r[i]&&(t[i]=r[i]))};Object.merge=function(){var r=arguments[0];if(Object.isObject(r)===!1)throw new Error(t);for(var i=Array.prototype.slice.call(arguments,1),e=-1,n=i.length;++e<n;)Object.isObject(i[e])&&v(r,i[e]);return r},Math.percent=function(r){if(Array.isArray(r)===!1||r.length>0&&r.any(function(t){return Number.isNumber(t)===!1||isFinite(t)===!1}))throw new Error(t);var i=r.sum();if(0===i)return r.clone();for(var e=r.select(function(t){return t/i*100}),n=e.select(Math.round);e.any(function(t){return t>0&&t<1});){var o=e.indexOf(function(t){return t>0&&t<1});e[o]=NaN,s-=n[o],n[o]=1,s+=1}var s=n.sum();if(100===s)return n;for(var f,o,h=n.length;100!==s&&e.all(isNaN)===!1;)if(s<100)for(f=e.max(function(t){return t-Math.floor(t)}),o=-1;++o<h;)e[o]===f&&(e[o]=NaN,n[o]+=1,s+=1);else for(f=e.min(function(t){return t-Math.floor(t)}),o=-1;++o<h;)e[o]===f&&(e[o]=NaN,n[o]-=1,s-=1);if(s<100)for(f=n.min(),o=-1;++o<h;)n[o]===f&&100!==s&&(n[o]+=1,s+=1);else for(f=n.max(),o=h;--o>=0;)n[o]===f&&100!==s&&(n[o]-=1,s-=1);return n},Number.isNumber=function(t){return"number"==typeof t&&isNaN(t)===!1},Number.MAX_SAFE_INTEGER=Number.MAX_SAFE_INTEGER||9007199254740991,Number.isSafeInteger=Number.isSafeInteger||function(t){return Number.isNumber(t)&&isFinite(t)&&Math.floor(t)===t&&Math.abs(t)<=Number.MAX_SAFE_INTEGER},String.isString=function(t){return"string"==typeof t},String.isEmpty=function(t){return String.isString(t)&&(0===t.length||/^\s+$/.test(t))},String.prototype.contains=function(t){return this.indexOf(t)>=0},String.prototype.toHashCode=function(){var t=-1,r=this.length,i=0;if(0===r)return i;for(;++t<r;)i=(i<<5)-i+this.charCodeAt(t),i|=0;return i};var A=[["<","&lt;"],[">","&gt;"],["&","&amp;"],['"',"&quot;"]],x=A.toObject("0","1"),b=A.toObject("1","0"),m=new RegExp("["+A.select("0").join("").replace(/\\/g,"\\\\")+"]","g"),E=new RegExp("("+A.select("1").join("|").replace(/\\/g,"\\\\")+")","g"),_=function(t){return x[t]},F=function(t){return b[t]};String.prototype.toEncodedXML=function(){return this.replace(m,_)},String.prototype.toDecodedXML=function(){return this.replace(E,F)};var S=/[a-z][A-Z]|[A-Z]{2,}[a-z]|[0-9][a-zA-Z]|[a-zA-Z][0-9]|[^a-zA-Z0-9 ]/,N=/[A-Z\xc0-\xd6\xd8-\xde]?[a-z\xdf-\xf6\xf8-\xff]+(?:['’](?:d|ll|m|re|s|t|ve))?(?=[\xac\xb1\xd7\xf7\x00-\x2f\x3a-\x40\x5b-\x60\x7b-\xbf\u2000-\u206f \t\x0b\f\xa0\ufeff\n\r\u2028\u2029\u1680\u180e\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200a\u202f\u205f\u3000]|[A-Z\xc0-\xd6\xd8-\xde]|$)|(?:[A-Z\xc0-\xd6\xd8-\xde]|[^\ud800-\udfff\xac\xb1\xd7\xf7\x00-\x2f\x3a-\x40\x5b-\x60\x7b-\xbf\u2000-\u206f \t\x0b\f\xa0\ufeff\n\r\u2028\u2029\u1680\u180e\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200a\u202f\u205f\u3000\d+\u2700-\u27bfa-z\xdf-\xf6\xf8-\xffA-Z\xc0-\xd6\xd8-\xde])+(?:['’](?:D|LL|M|RE|S|T|VE))?(?=[\xac\xb1\xd7\xf7\x00-\x2f\x3a-\x40\x5b-\x60\x7b-\xbf\u2000-\u206f \t\x0b\f\xa0\ufeff\n\r\u2028\u2029\u1680\u180e\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200a\u202f\u205f\u3000]|[A-Z\xc0-\xd6\xd8-\xde](?:[a-z\xdf-\xf6\xf8-\xff]|[^\ud800-\udfff\xac\xb1\xd7\xf7\x00-\x2f\x3a-\x40\x5b-\x60\x7b-\xbf\u2000-\u206f \t\x0b\f\xa0\ufeff\n\r\u2028\u2029\u1680\u180e\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200a\u202f\u205f\u3000\d+\u2700-\u27bfa-z\xdf-\xf6\xf8-\xffA-Z\xc0-\xd6\xd8-\xde])|$)|[A-Z\xc0-\xd6\xd8-\xde]?(?:[a-z\xdf-\xf6\xf8-\xff]|[^\ud800-\udfff\xac\xb1\xd7\xf7\x00-\x2f\x3a-\x40\x5b-\x60\x7b-\xbf\u2000-\u206f \t\x0b\f\xa0\ufeff\n\r\u2028\u2029\u1680\u180e\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200a\u202f\u205f\u3000\d+\u2700-\u27bfa-z\xdf-\xf6\xf8-\xffA-Z\xc0-\xd6\xd8-\xde])+(?:['’](?:d|ll|m|re|s|t|ve))?|[A-Z\xc0-\xd6\xd8-\xde]+(?:['’](?:D|LL|M|RE|S|T|VE))?|\d+|(?:[\u2700-\u27bf]|(?:\ud83c[\udde6-\uddff]){2}|[\ud800-\udbff][\udc00-\udfff])[\ufe0e\ufe0f]?(?:[\u0300-\u036f\ufe20-\ufe23\u20d0-\u20f0]|\ud83c[\udffb-\udfff])?(?:\u200d(?:[^\ud800-\udfff]|(?:\ud83c[\udde6-\uddff]){2}|[\ud800-\udbff][\udc00-\udfff])[\ufe0e\ufe0f]?(?:[\u0300-\u036f\ufe20-\ufe23\u20d0-\u20f0]|\ud83c[\udffb-\udfff])?)*/g,O=/[a-zA-Z0-9]+/g,j=function(t){
return t.match(S.test(t)?N:O)||[]},I=/[\xc0-\xd6\xd8-\xde\xdf-\xf6\xf8-\xff]/g,R={"À":"A","Á":"A","Â":"A","Ã":"A","Ä":"A","Å":"A","à":"a","á":"a","â":"a","ã":"a","ä":"a","å":"a","Ç":"C","ç":"c","Ð":"D","ð":"d","È":"E","É":"E","Ê":"E","Ë":"E","è":"e","é":"e","ê":"e","ë":"e","Ì":"I","Í":"I","Î":"I","Ï":"I","ì":"i","í":"i","î":"i","ï":"i","Ñ":"N","ñ":"n","Ò":"O","Ó":"O","Ô":"O","Õ":"O","Ö":"O","Ø":"O","ò":"o","ó":"o","ô":"o","õ":"o","ö":"o","ø":"o","Ù":"U","Ú":"U","Û":"U","Ü":"U","ù":"u","ú":"u","û":"u","ü":"u","Ý":"Y","ý":"y","ÿ":"y","Æ":"Ae","æ":"ae","Þ":"Th","þ":"th","ß":"ss"},M=/[\u0300-\u036f\ufe20-\ufe23\u20d0-\u20f0]/g,T=function(t){return R[t]};String.prototype.toEnglishCase=function(){return this.replace(I,T).replace(M,"")};var k=function(t){return t.charAt(0).toUpperCase()+t.substring(1).toLowerCase()};String.prototype.toCapitalCase=function(){var t,r=this.toString(),i=0,e=r.length,n=[r.charAt(0)],o=/\w/.test(n[0]);if(0===e)return r;for(;++i<e;)t=r.charAt(i),/\w/.test(t)===o?n[n.length-1]+=t:n.push(t),o=/\w/.test(t);for(i=-1,e=n.length;++i<e;)t=n[i],t===t.toUpperCase()?n[i]=t:n[i]=k(t);return n.join("")};var C=/['’]/g;String.prototype.toCamelCase=function(){var t=j(this.toEnglishCase().replace(C,"")).map(k).join("");return t.length>0&&(t=t[0].toLowerCase()+t.substring(1)),t},String.prototype.toTrainCase=function(){return j(this.toEnglishCase().replace(C,"")).join("-").toLowerCase()},String.prototype.latchOf=function(t,r){for(var i=0,e=-1,n=this.length;++e<n;)if(this.substring(e,e+t.length)===t)i++,e+=t.length-1;else if(this.substring(e,e+r.length)===r){if(i--,0===i)return e;e+=r.length-1}return-1},Map.prototype.toArray=function(){return Array.create(this)},Map.prototype.toObject=function(){var t={};return this.forEach(function(r,i){void 0===i?i="undefined":null===i?i="null":"string"!=typeof i&&(i=i.toString()),t[i]=r}),t}}();