/*
 * @name Enumerable
 * @version 4.1.0
 * @author Anantachai Saothong <thisismanta@outlook.com>
 * @license MIT
 * https://github.com/ThisIsManta/Enumerable.git
*/
!function(t,i){"undefined"!=typeof exports?i(t,exports):"function"==typeof define&&define.amd?define(["exports"],function(r){i(t,r)}):i(t,t)}(this,function(win,exp){var ERR_INV=new Error("one or more parameters were not valid"),ERR_OOR=new RangeError("an index was out-of-range"),ERR_SGS=new RangeError("a start index was greater than a stop index"),ERR_LEN=new Error("a length was not valid"),ERR_EST=new Error("a string cannot be empty"),ERR_AEA=new Error("an array cannot be empty"),ERR_MZM=new Error("an array had no matching members"),ERR_MZM=new Error("an array had more than one matching member"),ERR_MMM=new Error("an array had too many matching members"),ERR_NST=new TypeError("one or more array members were not a string"),ERR_IWG=new Error("[invokeWhich] must be called after [groupBy]"),ERR_BID=new TypeError("a non-object type was not allowed"),ERR_IPR=new Error("a variable name was not allowed"),_isFunction=function(t){return"function"==typeof t||"[object Function]"===Object.prototype.toString.call(t)};Function.isFunction=_isFunction,Function.prototype.debounce=function(t){var i,r,e,n=this;if(0===arguments.length||_isInteger(t)&&t>=0){var s=function(){i=void 0,n.apply(r,e)},o=function(){r=this,e=Array.from(arguments),void 0!==i&&clearTimeout(i),i=t>0?setTimeout(s,t):setTimeout(s)};return o.cancel=function(){clearTimeout(i),i=void 0},o}throw ERR_INV},Function.prototype.barrier=function(t){var i,r,e,n,s=this;if(0===arguments.length||_isInteger(t)&&t>=0){var o=function(){i=void 0},h=function(){r=void 0,s.apply(e,n),i=t>0?setTimeout(o,t):setTimeout(o)},u=function(){e=this,n=Array.from(arguments),void 0!==i?(clearTimeout(i),i=t>0?setTimeout(o,t):setTimeout(o)):(void 0!==r&&clearTimeout(r),r=t>0?setTimeout(h,t):setTimeout(h))};return u.cancel=function(){clearTimeout(r),r=void 0,clearTimeout(i),i=void 0},u}throw ERR_INV},Function.prototype.immediate=function(t){if(0===arguments.length||0===t)return this;if(_isInteger(t)&&t>0){var i,r=this,e=function(){i=void 0},n=function(){void 0===i?r.apply(this,arguments):clearTimeout(i),i=setTimeout(e,t)};return n.cancel=function(){clearTimeout(i),i=void 0},n}throw ERR_INV},Function.prototype.cache=function(t){var i=arguments.length>0?t:8,r=this,e=[],n=[];if(_isInteger(i)&&i>0){var s=function(){var t=Array.from(arguments);if(e.length>0&&Object.isEqual(e[0],t))return n[0];if(e.length>1&&Object.isEqual(e[1],t))return n[1];var s=e.indexOf(function(i){return Object.isEqual(i,t)});return s===-1?(e.unshift(t),n.unshift(r.apply(this,arguments)),e.length>i&&(e.pop(),n.pop())):(e.unshift(t),n.unshift(n[s]),e.splice(s+1,1),n.splice(s+1,1)),n[0]};return s.forget=function(){e=[],n=[]},s}throw ERR_INV},Array.create=function(t,i,r){var e,n,s,o=-1;if("object"==typeof t&&null!==t)if(t instanceof Array)s=t,s._m=!0;else if(t instanceof Map)s=new Array(t.size),t.forEach(function(t,i){s[++o]=[i,t]}),s._m=!1;else if(void 0!==t.length){var h=t.length;if(!(_isInteger(h)&&h>=0))throw ERR_LEN;for(s=new Array(h);++o<h;)s[o]=t[o];s._m=!1}else{s=[];var u=arguments[arguments.length-1]===!0;_isString(i)===!1&&(i="name"),_isString(r)===!1&&(r="value");for(e in t)(u||void 0!==t[e]&&e.startsWith("_")===!1&&_isFunction(t[e])===!1&&Object.prototype.hasOwnProperty.call(t,e))&&(n={},n[i]=e,n[r]=t[e],s[++o]=n);s._m=!1}else if(_isString(t))s=_isString(i)||i instanceof RegExp?t.split(i):t.split(""),s._m=!1;else if(_isInteger(t)&&t>=0){if(s=new Array(t),void 0!==i)for(;++o<t;)s[o]=i;s._m=!1}else{if(0!==arguments.length)throw ERR_INV;s=[],s._m=!1}return s},Array.prototype.bind=function(t){if(0===arguments.length)throw ERR_BID;return void 0===t||null===t?delete this._s:"object"==typeof t&&(this._s=t),this};var _clone=function(t){if("object"==typeof t&&null!==t){var i,r;if(t instanceof Array){var e=t.length;for(i=new Array(e),r=-1;++r<e;)i[r]=_clone(t[r]);return i}i={};for(r in t)i[r]=_clone(t[r]);return i}return t};Array.prototype.clone=function(t){var i;return i=t?_clone(this):this.slice(0),i._m=!1,void 0!==this._s&&(i._s=this._s),i};var _createImmutable=function(t){return t._m===!1?t:t.clone()};Array.prototype.asImmutable=function(){return _createImmutable(this)},Array.prototype.toObject=function(t,i){var r,e=-1,n=this.length,s={},o=this._s;if(0===arguments.length)for(;++e<n;)r=this[e],s[r.toString()]=r;else if(_isString(t))if(1===arguments.length)for(;++e<n;)r=this[e][t],null===r&&(r="null"),void 0!==r&&(s[r.toString()]=this[e]);else if(_isString(i))for(;++e<n;)r=this[e][t],null===r&&(r="null"),void 0!==r&&(s[r.toString()]=this[e][i]);else if(_isFunction(i))for(;++e<n;)r=this[e][t],null===r&&(r="null"),void 0!==r&&(s[r.toString()]=i.call(o,this[e],e,this));else for(;++e<n;)r=this[e][t],null===r&&(r="null"),void 0!==r&&(s[r.toString()]=i);else{if(!_isFunction(t))throw ERR_INV;if(1===arguments.length)for(;++e<n;)r=t.call(o,this[e],e,this),null===r&&(r="null"),void 0!==r&&(s[r.toString()]=this[e]);else if(_isString(i))for(;++e<n;)r=t.call(o,this[e],e,this),null===r&&(r="null"),void 0!==r&&(s[r.toString()]=this[e][i]);else if(_isFunction(i))for(;++e<n;)r=t.call(o,this[e],e,this),null===r&&(r="null"),void 0!==r&&(s[r.toString()]=i.call(o,this[e],e,this));else for(;++e<n;)r=t.call(o,this[e],e,this),null===r&&(r="null"),void 0!==r&&(s[r.toString()]=i)}return s},Array.prototype.toMap=function(t,i){var r=-1,e=this.length,n=new Map,s=this._s;if(0===arguments.length)for(;++r<e;)n.set(r,this[r]);else if(_isString(t))if(1===arguments.length)for(;++r<e;)n.set(this[r][t],this[r]);else if(_isString(i))for(;++r<e;)n.set(this[r][t],this[r][i]);else if(_isFunction(i))for(;++r<e;)n.set(this[r][t],i.call(s,this[r],r,this));else for(;++r<e;)n.set(this[r][t],i);else{if(!_isFunction(t))throw ERR_INV;if(1===arguments.length)for(;++r<e;)n.set(t.call(s,this[r],r,this),this[r]);else if(_isString(i))for(;++r<e;)n.set(t.call(s,this[r],r,this),this[r][i]);else if(_isFunction(i))for(;++r<e;)n.set(t.call(s,this[r],r,this),i.call(s,this[r],r,this));else for(;++r<e;)n.set(t.call(s,this[r],r,this),i)}return n};var _toString=Array.prototype.toString;Array.prototype.toString=function(t){if(0===arguments.length)return _toString.call(this);if(1===arguments.length&&_isString(t))return this.join(t);throw ERR_INV},Array.prototype.where=function(t,i){var r,e,n,s=-1,o=-1,h=this.length,u=[];if(_isFunction(t)&&1===arguments.length)u=this.filter(t,this._s);else if("object"==typeof t&&1===arguments.length)for(;++s<h;){r=1,e=this[s];for(n in t)if(r&=e[n]===t[n],!r)break;r&&(u[++o]=e)}else{if(!_isString(t)||2!==arguments.length)throw ERR_INV;for(;++s<h;)e=this[s],e[t]===i&&(u[++o]=e)}return void 0!==this._s&&(u._s=this._s),u},Array.prototype.select=function(t){var i,r,e,n,s=-1,o=this.length;if(1!==arguments.length)throw ERR_INV;if(_isFunction(t))for(n=new Array(o);++s<o;)n[s]=t.call(this._s,this[s],s,this);else if(_isString(t)||_isInteger(t)&&(t=t.toString())){if(n=new Array(o),0===t.length)throw ERR_EST;for(;++s<o;)n[s]=this[s][t]}else{if(!Array.isArray(t))throw ERR_INV;for(r=t.length,n=new Array(o);++s<o;){for(i=-1,e={};++i<r;)e[t[i]]=this[s][t[i]];n[s]=e}}return void 0!==this._s&&(n._s=this._s),n},Array.prototype.invoke=function(t,i,r){var e,n=Array.from(arguments).indexOf(Function.isFunction),s=n>=1?t:0,o=n>=2?i:this.length,h=n>=3?r:s<o?1:-1,u=arguments[n],a=this._s;if(!(_isFunction(u)&&_isInteger(s)&&s>=0&&_isInteger(o)&&_isInteger(h)&&0!==h))throw ERR_INV;if(!(o>=0&&o<=this.length))throw ERR_OOR;if(0===s&&o>=1024&&1===h){for(;s<o%8&&e!==!1;)e=u.call(a,this[s],s++,this);for(;s<o&&e!==!1;)e!==!1&&(e=u.call(a,this[s],s++,this)),e!==!1&&(e=u.call(a,this[s],s++,this)),e!==!1&&(e=u.call(a,this[s],s++,this)),e!==!1&&(e=u.call(a,this[s],s++,this)),e!==!1&&(e=u.call(a,this[s],s++,this)),e!==!1&&(e=u.call(a,this[s],s++,this)),e!==!1&&(e=u.call(a,this[s],s++,this)),e!==!1&&(e=u.call(a,this[s],s++,this))}else if(h>0)for(;s<o&&e!==!1;)e=u.call(a,this[s],s,this),s+=h;else for(s--;s>=o&&e!==!1;)e=u.call(a,this[s],s,this),s+=h;return this},Array.prototype.invokeAsync=function(t,i,r){var e,n,s=Array.from(arguments).indexOf(Function.isFunction),o=s>=1?t:0,h=s>=2?i:this.length,u=s>=3?r:o<h?1:-1,a=arguments[s],f=void 0!==arguments[s+1]?arguments[s+1]:1,l=this,c=this._s;if(!(_isFunction(a)&&_isInteger(o)&&o>=0&&_isInteger(h)&&_isInteger(u)&&0!==u&&_isInteger(f)&&f>0))throw ERR_INV;if(!(h>=0&&h<=this.length))throw ERR_OOR;return u>0?n=new Promise(function(t,i){e=function(){for(var r,n=f;o<h&&n-- >0&&r!==!1;)r=a.call(c,l[o],o,l),o+=u;r===!1?i():o<h?setTimeout(e,2):t(l)}}):(o--,n=new Promise(function(t,i){e=function(){for(var r,n=f;o>=h&&n-- >0&&r!==!1;)r=a.call(c,l[o],o,l),o+=u;r===!1?i():o>=h?setTimeout(e,2):t(l)}})),setTimeout(e),n},Array.prototype.invokeWhich=function(t,i){if(void 0===this._g)throw ERR_IWG;if(!_isFunction(i)||2!==arguments.length)throw ERR_INV;return t=void 0===t?"undefined":null===t?"null":t.toString(),this._g[t].invoke(i),this},Array.prototype.take=function(t,i){var r,e=-1,n=this.length;if(_isFunction(t)){for(;++e<n&&t.call(this._s,this[e],e,this)!==!1;);r=this.slice(0,e)}else if(isFinite(t)===!1||t>=Number.MAX_SAFE_INTEGER)r=_createImmutable(this);else{if(!_isInteger(t))throw ERR_INV;if(t<0||t>n)throw ERR_OOR;if(_isInteger(i)){if(i<0||i>n)throw ERR_OOR;if(t>i)throw ERR_SGS;r=this.slice(t,i)}else r=this.slice(0,t)}return void 0!==this._s&&(r._s=this._s),r},Array.prototype.skip=function(t,i){var r,e,n=-1,s=this.length;if(_isFunction(t)){for(r=s;++n<s;)if(t.call(this._s,this[n],n,this)===!1){r=n;break}return this.take.call(this,r,s)}if(isFinite(t)===!1||t>=Number.MAX_SAFE_INTEGER)e=[];else{if(!_isInteger(t))throw ERR_INV;if(t<0||t>s)throw ERR_OOR;if(_isInteger(i)){if(i<0||i>s)throw ERR_OOR;if(t>i)throw ERR_SGS;e=_createImmutable(this),e.splice(t,i-t)}else e=this.slice(t)}return void 0!==this._s&&(e._s=this._s),e},Array.prototype.trim=function(t){var i=-1,r=this.length,e=_createImmutable(this);if(_isFunction(t)){for(;--r>=0;)if(!t.call(this._s,this[r],r,this)){e.splice(r+1,this.length-r);break}for(;++i<r;)if(!t.call(this._s,this[i],i,this)){e.splice(0,i);break}}else{for(;--r>=0;)if(Object.isEqual(this[r],t)===!1){e.splice(r+1,this.length-r);break}for(;++i<r;)if(Object.isEqual(this[i],t)===!1){e.splice(0,i);break}}return e},Array.prototype.flatten=function(t){for(var i,r,e,n=-1,s=-1,o=this.length,h=[];++n<o;)if(e=this[n],Array.isArray(e)){if(e.length>0)for(t&&(e=e.flatten(t)),i=-1,r=e.length;++i<r;)h[++s]=e[i]}else h[++s]=e;return void 0!==this._s&&(h._s=this._s),h},Array.prototype.any=function(t,i){var r=-1,e=this.length;if(0===e)return!1;if(0===arguments.length)return!0;if(_isFunction(t)){for(;++r<e;)if(t.call(this._s,this[r],r,this))return!0;return!1}if(_isString(t)&&2===arguments.length){for(;++r<e;)if(this[r][t]===i)return!0;return!1}for(;++r<e;)if(this[r]===t)return!0;return!1},Array.prototype.all=function(t,i){var r=-1,e=this.length;if(0===e)return!0;if(0===arguments.length)throw ERR_INV;if(_isFunction(t)){for(;++r<e;)if(!t.call(this._s,this[r],r,this))return!1;return!0}if(_isString(t)&&2===arguments.length){for(;++r<e;)if(this[r][t]!==i)return!1;return!0}for(;++r<e;)if(this[r]!==t)return!1;return!0},Array.prototype.has=function(){return this.indexOf.apply(this,arguments)>=0},Array.prototype.isEqual=function(t,i){t=Array.create(t);var r=-1,e=this.length;if(e!==t.length)return!1;if(1===arguments.length){for(;++r<e;)if(!(Array.isArray(this[r])&&Array.isArray(t[r])&&this[r].isEqual(t[r]))&&this[r]!==t[r])return!1;return!0}if(_isFunction(i)&&2===arguments.length){for(;++r<e;)if(!i.call(this._s,this[r],t[r]))return!1;return!0}throw ERR_INV},Array.prototype.isAlike=function(t,i){t=Array.create(t),t=_createImmutable(t);var r,e,n,s=-1,o=this.length;if(o!==t.length||0===o!=(0===t.length))return!1;if(1===arguments.length){for(;++s<o;){if(n=t.indexOf(this[s]),n<0)return!1;t.removeAt(n)}return 0===t.length}if(_isFunction(i)&&2===arguments.length){for(;++s<o;){for(n=this[s],r=-1,e=t.length;++r<e&&!i.call(this._s,n,t[r]););if(r===e)return!1;t.removeAt(r)}return 0===t.length}throw ERR_INV},Array.prototype.isSubset=function(t,i){t=Array.create(t);var r=this,e=-1,n=this.length,s=t._s;if(t._s=this._s,1===arguments.length){for(;++e<n;)if(t.indexOf(this[e])===-1)return!1}else{if(!_isFunction(i)||2!==arguments.length)throw ERR_INV;for(var o=function(t){return i.call(this,r[e],t)};++e<n;)if(t.indexOf(o)===-1)return!1}return void 0===s?delete t._s:t._s=s,!0};var _indexOf=Array.prototype.indexOf;Array.prototype.indexOf=function(t,i){var r=-1,e=this.length;if(arguments.length>=1){if(_isFunction(t)){for(_isInteger(i)&&(r=i>=0?i-1:e+i-1),r<0&&(r=-1);++r<e;)if(t.call(this._s,this[r],r,this))return r;return-1}return _indexOf.apply(this,arguments)}throw ERR_INV};var _lastIndexOf=Array.prototype.lastIndexOf;Array.prototype.lastIndexOf=function(t,i){var r=this.length;if(arguments.length>=1){if(_isFunction(t)){for(_isInteger(i)&&(r=i>=0?i:this.length+i+1),r<0&&(r=this.length);--r>=0;)if(t.call(this._s,this[r],r,this))return r;return-1}return _lastIndexOf.apply(this,arguments)}throw ERR_INV};var _find=Array.prototype.find;Array.prototype.find=function(t,i){var r;if(_isFunction(t))return _find.apply(this,arguments);if(_isString(t)&&2===arguments.length)return r=this.indexOf.call(this,function(r){return r[t]===i}),r>=0?this[r]:void 0;throw ERR_INV};var _createFirstOrLast=function(t,i,r,e){return function(){if(0===this.length)return r.call(this);if(0===arguments.length)return i.call(this);var n=this[t].apply(this,arguments);return n>=0?this[n]:e.call(this)}};Array.prototype.first=_createFirstOrLast("indexOf",function(){return this[0]},function(){throw ERR_EAR},function(){throw ERR_MZM}),Array.prototype.firstOrNull=_createFirstOrLast("indexOf",function(){return this[0]},function(){return null},function(){return null}),Array.prototype.last=_createFirstOrLast("lastIndexOf",function(){return this[this.length-1]},function(){throw ERR_EAR},function(){throw ERR_MZM}),Array.prototype.lastOrNull=_createFirstOrLast("lastIndexOf",function(){return this[this.length-1]},function(){return null},function(){return null}),Array.prototype.single=function(t){if(0===this.length)throw ERR_EAR;if(0===arguments.length){if(1===this.length)return this[0];throw ERR_AMM}if(1===arguments.length){var i=this.indexOf.call(this,t);if(i>=0){if(i===this.lastIndexOf.call(this,t))return this[i];throw ERR_MMM}throw ERR_MZM}throw ERR_INV},Array.prototype.singleOrNull=function(t){if(0===this.length)return null;if(0===arguments.length)return 1===this.length?this[0]:null;if(1===arguments.length){var i=this.indexOf.call(this,t);return i>=0&&i===this.lastIndexOf.call(this,t)?this[i]:null}throw ERR_INV},Array.prototype.distinct=function(t){var i,r={},e=-1,n=-1,s=this.length,o=!1,h=!1,u=[];if(0===arguments.length)for(;++e<s;)i=this[e],void 0===i?o===!1&&(o=!0,u[++n]=this[e]):null===i?h===!1&&(h=!0,u[++n]=this[e]):void 0===r[i=i.toString()]&&(r[i]=!0,u[++n]=this[e]);else if(_isString(t)&&t.length>0&&1===arguments.length)for(;++e<s;)i=this[e][t],void 0===i?o===!1&&(o=!0,u[++n]=this[e]):null===i?h===!1&&(h=!0,u[++n]=this[e]):void 0===r[i=i.toString()]&&(r[i]=!0,u[++n]=this[e]);else{if(!_isFunction(t)||1!==arguments.length)throw ERR_INV;for(;++e<s;)i=t.call(this._s,this[e],e,this),void 0===i?o===!1&&(o=!0,u[++n]=this[e]):null===i?h===!1&&(h=!0,u[++n]=this[e]):void 0===r[i=i.toString()]&&(r[i]=!0,u[++n]=this[e])}return void 0!==this._s&&(u._s=this._s),u},Array.prototype.add=function(t,i){if(1===arguments.length||i===this.length)this.push(t);else{if(!_isInteger(i)||2!==arguments.length)throw ERR_INV;if(!(i>=0&&i<=this.length))throw ERR_OOR;this.splice(i,0,t)}return this},Array.prototype.addRange=function(t,i){if(t=Array.create(t),1===arguments.length||i===this.length)Array.prototype.splice.apply(this,[this.length,0].concat(t));else{if(!_isInteger(i)||2!==arguments.length)throw ERR_INV;if(!(i>=0&&i<=this.length))throw ERR_OOR;1===t.length?this.splice(i,0,t[0]):t.length>1&&Array.prototype.splice.apply(this,[i,0].concat(t))}return this},Array.prototype.remove=function(t,i){var r;if(arguments.length<=2)return r=this.indexOf(t),r>=0&&(_isInteger(i)===!1||r>=i)?this.removeAt(r):this;throw ERR_INV},Array.prototype.removeAt=function(t){if(1!==arguments.length)throw ERR_INV;if(!(_isInteger(t)&&t>=0&&t<=this.length))throw ERR_OOR;return this.splice(t,1),this},Array.prototype.removeRange=function(t){t=Array.create(t);var i=-1,r=t.length;if(1!==arguments.length)throw ERR_INV;for(;++i<r;)this.remove(t[i]);return this},Array.prototype.removeAll=function(t){if(0===arguments.length)this.splice(0,this.length);else{if(1!==arguments.length)throw ERR_INV;for(var i=this.length;--i>=0;)this[i]===t&&this.splice(i,1)}return this},Array.prototype.split=function(t,i){var r=-1,e=0,n=this.length,s=[],o=this._s;if(1===arguments.length)if(_isFunction(t))for(;++r<n;)t.call(o,this[r],r,this)&&(s.push(this.slice(e,r)),e=r+1);else for(;++r<n;)this[r]===t&&(s.push(this.slice(e,r)),e=r+1);else{if(!_isString(t)||2!==arguments.length)throw ERR_INV;for(;++r<n;)this[r][t]===i&&(s.push(this.slice(e,r)),e=r+1)}return this.length>0&&e<=n&&s.push(this.slice(e)),void 0!==this._s&&(s._s=this._s),s},Array.prototype.splitAt=function(t){var i=[];if(_isInteger(t)&&1===arguments.length){if(t>=0&&t<this.length)return i.push(this.slice(0,t)),i.push(this.slice(t)),void 0!==this._s&&(i._s=this._s),i;throw ERR_OOR}throw ERR_INV},Array.prototype.replace=function(t,i,r){var e=-1,n=this.length;if(!(arguments.length>=2))throw ERR_INV;if(_isInteger(r)===!1&&(r=1/0),_isFunction(t))for(;++e<n&&r>0;)t.call(this._s,this[e],e,this)&&(this[e]=i,r--);else for(;++e<n&&r>0;)this[e]===t&&(this[e]=i,r--);return this},Array.prototype.replaceAt=function(t,i){if(2!==arguments.length)throw ERR_INV;if(_isInteger(t)===!1||t<0||t>=this.length)throw ERR_OOR;return this[t]=i,this},Array.prototype.union=function(t){t=Array.create(t);var i=-1,r=this.length-1,e=t.length,n=_createImmutable(this);if(1===arguments.length){for(;++i<e;)this.has(t[i])===!1&&(n[++r]=t[i]);return n}throw ERR_INV},Array.prototype.intersect=function(t){t=Array.create(t);var i=-1,r=-1,e=this.length,n=[];if(1===arguments.length){for(;++i<e;)t.has(this[i])&&(n[++r]=this[i]);return n._m=!1,void 0!==this._s&&(n._s=this._s),n}throw ERR_INV},Array.prototype.difference=function(t){t=Array.create(t);var i=-1,r=-1,e=this.length,n=[];if(1===arguments.length){for(;++i<e;)t.has(this[i])===!1&&(n[++r]=this[i]);return n._m=!1,void 0!==this._s&&(n._s=this._s),n}throw ERR_INV};var _sort=Array.prototype.sort;Array.prototype.sortBy=function(t,i){var r,e=this._s;if(arguments.length<=2){if(Array.isArray(t)){if(_isString(t)&&t.length>0){var n=t;t=function(t){return t[n]}}var s=this.length;if(1===arguments.length)r=this.select(function(i,r){var e=t.indexOf(i);return{v:i,r:e>=0?e:s+r}});else{if(!_isFunction(t))throw ERR_INV;r=this.select(function(r,n){var o=i.indexOf(t.apply(e,arguments));return{v:r,r:o>=0?o:s+n}})}t=void 0}else if(_isFunction(t))r=this.select(function(i,r){return{v:i,r:t.call(e,i,r,this),i:r}});else{if(!_isString(t))throw ERR_INV;if(0===t.length)throw ERR_EST;r=this.select(function(i){return{v:i,r:i[t]}})}return this.length<=0?this:(i!==!0?_sort.call(r,function(t,i){return t.r===i.r?t.i-i.i:t.r>i.r||void 0===t.r||null===t.r||""===t.r?1:t.r<i.r||void 0===i.r||null===i.r||""===i.r?-1:t.r-i.r}):_sort.call(r,function(t,i){return t.r===i.r?t.i-i.i:t.r>i.r||void 0===t.r||null===t.r||""===t.r?-1:t.r<i.r||void 0===i.r||null===i.r||""===i.r?1:i.r-t.r}),r.select("v"))}var o=Array.from(arguments).select(function(t,i){if(i%2===0){if(_isString(t))return function(i){return i[t]};if(_isFunction(t))return t;throw ERR_INV}return void 0===t||!!t});o.length%2===1&&o.push(!1);var h,u,a,f,l=o.length/2;return r=this.clone(),_sort.call(r,function(t,i){for(h=-1;++h<l;){if(a=o[2*h].call(e,t),f=o[2*h].call(e,i),void 0===a||null===a||""===a){if(void 0===f||null===f||""===f)continue;u=1}else if(void 0===f||null===f||""===f)u=-1;else{if(a===f)continue;u=a<f?-1:1}return u*(o[2*h+1]===!0?-1:1)}return 0}),r},Array.prototype.groupBy=function(t){var i,r,e,n=-1,s=this.length,o={},h={},u=[];if(_isString(t)){if(0===t.length)throw ERR_EST;r=t,t=function(t){return t[r]}}if(!_isFunction(t))throw ERR_INV;for(;++n<s;)i=t.call(this._s,this[n],n,this),e=void 0===i?"undefined":null===i?"null":i.toString(),void 0===o[e]?(o[e]=[this[n]],h[e]=i):o[e].add(this[n]);for(e in o)i=o[e],i._m=!1,i._s=this._s,i.name=h[e],u.add(i);return u._g=o,void 0!==this._s&&(u._s=this._s),u},Array.prototype.groupOf=function(t){var i,r,e=-1,n=this.length;if(_isInteger(t)&&t>0&&1===arguments.length){for(r=new Array(Math.ceil(n/t));++e<n;)i=r[Math.floor(e/t)],void 0===i&&(i=r[Math.floor(e/t)]=[]),i.push(this[e]);return void 0!==this._s&&(r._s=this._s),r}throw ERR_INV},Array.prototype.joinBy=function(t,i,r){t=Array.create(t);var e,n,s,o=-1,h=this.length,u=t.length,a=this._s;if(_isString(i)){if(0===i.length)throw ERR_EST;for(;++o<h;){for(e=-1,n=null;++e<u;)if(t[e][i]===this[o][i]){n=t[e];break}if(null!==n)for(s in n)r?this[o][s]=n[s]:void 0===this[o][s]&&(this[o][s]=n[s])}}else{if(!_isFunction(i))throw ERR_INV;for(;++o<h;){for(e=-1,n=null;++e<u;)if(i.call(a,this[o],o,this)===i.call(a,t[e],e,t)){n=t[e];break}if(null!==n)for(s in n)r?this[o][s]=n[s]:void 0===this[o][s]&&(this[o][s]=n[s])}}return this},Array.prototype.countBy=function(t,i){var r=-1,e=this.length,n=0,s=this._s;if(arguments.length<1||arguments.length>2)throw ERR_INV;if(_isString(t))for(;++r<e;)this[r][t]===i&&n++;else if(_isFunction(t))for(;++r<e;)t.call(s,this[r],r,this)&&n++;else for(;++r<e;)this[r]===t&&n++;return n},Array.prototype.min=function(t){var i,r,e=0,n=0,s=this.length,o=this._s;if(0===s)return null;if(1===s)return this[0];if(void 0===t)for(r=this[0];++e<s;)i=this[e],i<r&&(n=e,r=i);else if(_isString(t)){if(0===t.length)throw ERR_EST;for(r=this[0][t];++e<s;)i=this[e][t],i<r&&(n=e,r=i)}else{if(!_isFunction(t))throw ERR_INV;for(r=t.call(o,this[0],0,this);++e<s;)i=t.call(o,this[e],e,this),i<r&&(n=e,r=i)}return n>=0?this[n]:null},Array.prototype.max=function(t){var i,r,e=0,n=0,s=this.length,o=this._s;if(0===s)return null;if(1===s)return this[0];if(void 0===t)for(r=this[0];++e<s;)i=this[e],i>r&&(n=e,r=i);else if(_isString(t)){if(0===t.length)throw ERR_EST;for(r=this[0][t];++e<s;)i=this[e][t],i>r&&(n=e,r=i)}else{if(!_isFunction(t))throw ERR_INV;for(r=t.call(o,this[0],0,this);++e<s;)i=t.call(o,this[e],e,this),i>r&&(n=e,r=i)}return n>=0?this[n]:null},Array.prototype.mod=function(t){var i,r={},e=-1,n=this.length,s=this._s;if(0===n)return null;if(1===n)return this[0];if(void 0===t)for(;++e<n;)i=this[e].toString(),r[i]?r[i].c+=1:r[i]={i:e,c:1};else if(_isString(t)){if(0===t.length)throw ERR_EST;for(;++e<n;)i=this[e][t].toString(),r[i]?r[i].c+=1:r[i]={i:e,c:1}}else{if(!_isFunction(t))throw ERR_INV;for(;++e<n;)i=t.call(s,this[e],e,this).toString(),r[i]?r[i].c+=1:r[i]={i:e,c:1}}return this[Array.create(r).max(function(t){return t.value.c}).value.i]},Array.prototype.sum=function(t){var i,r,e=0,n=this.length,s=this._s;if(0===n)return 0;if(void 0===t)for(r=this[0];++e<n;)i=this[e],isNaN(i)===!1&&(r+=i);else if(_isString(t)){if(0===t.length)throw ERR_EST;for(r=this[0][t];++e<n;)i=this[e][t],isNaN(i)===!1&&(r+=i)}else{if(!_isFunction(t))throw ERR_INV;for(r=t.call(s,this[0],0,this);++e<n;)i=t.call(s,this[e],e,this),isNaN(i)===!1&&(r+=i)}return r},Array.prototype.avg=function(){return this.sum.apply(this,arguments)/this.length},Array.prototype.norm=function(t){var i,r=-1,e=-1,n=this.length,s=[],o=this._s;if(0===arguments.length)for(;++r<n;)i=this[r],i&&(_isString(i)===!1||i.trim().length>0)&&(_isNumber(i)===!1||isFinite(i))&&(s[++e]=i);else if(_isString(t))for(;++r<n;)i=this[r][t],i&&(_isString(i)===!1||i.trim().length>0)&&(_isNumber(i)===!1||isFinite(i))&&(s[++e]=this[r]);else{if(!_isFunction(t))throw ERR_INV;for(;++r<n;)i=t.call(o,this[r],r,this),i&&(_isString(i)===!1||i.trim().length>0)&&(_isNumber(i)===!1||isFinite(i))&&(s[++e]=this[r])}return void 0!==this._s&&(s._s=this._s),s},Array.prototype.cast=function(t){var i,r=_isFunction(t)?t.name:t,e=-1,n=-1,s=this.length,o=[];if(_isString(r)){if(r=r.toLowerCase(),"string"===r)for(;++e<s;)i=this[e],_isString(i)?o[++n]=i:void 0!==i&&null!==i&&void 0!==i.toString&&_isFunction(i)===!1&&(i=i.toString(),/^\[object \w+\]$/.test(i)===!1&&(o[++n]=i));else if("number"===r)for(;++e<s;)i=this[e],_isNumber(i)&&isNaN(i)===!1?isNaN(i)===!1&&(o[++n]=i):_isString(i)&&(i=parseFloat(i),isNaN(i)===!1&&(o[++n]=i));else if("boolean"===r)for(;++e<s;)i=this[e],void 0!==i&&null!==i&&void 0!==i.toString&&(i=i.toString().trim().toLowerCase(),"true"===i?o[++n]=!0:"false"===i&&(o[++n]=!1));else if("array"===r)for(;++e<s;)i=this[e],Array.isArray(i)?o[++n]=i:void 0!==i&&null!==i&&"function"!=typeof i&&_isInteger(i.length)&&(o[++n]=Array.create(i));else if("object"===r)for(;++e<s;)i=this[e],null!==i&&"object"==typeof i&&Array.isArray(i)===!1&&(o[++n]=i);else if("function"===r)for(;++e<s;)i=this[e],_isFunction(i)&&(o[++n]=i);else{if(void 0===win.jQuery||"jquery"!==r&&t!==win.jQuery)throw ERR_INV;for(;++e<s;)i=this[e],(_isString(i)||"object"==typeof i&&(i instanceof HTMLElement||i instanceof win.jQuery))&&(o[++n]=win.jQuery(i))}return void 0!==this._s&&(o._s=this._s),o}throw ERR_INV},Array.prototype.cross=function(t){t=Array.create(t);var i,r=-1,e=-1,n=this.length,s=t.length,o=new Array(n*s);if(1!==arguments.length)throw ERR_INV;if(this._x===!0)for(;++r<n;)for(i=-1;++i<s;)o[++e]=this[r].slice(0).add(t[i]);else for(;++r<n;)for(i=-1;++i<s;)o[++e]=[this[r]].add(t[i]);return o._x=!0,void 0!==this._s&&(o._s=this._s),o},Array.prototype.zip=function(t){t=Array.create(t);var i,r,e=-1,n=this.length,s=t.length,o=new Array(this.length);if(1!==arguments.length)throw ERR_INV;if(!t.all(function(t){return _isString(t)}))throw ERR_NST;for(;++e<n;){for(r={},i=-1;++i<s;)r[t[i]]=this[e][i];void 0!==r&&(o[e]=r)}return void 0!==this._s&&(o._s=this._s),o},Array.prototype.seek=function(t,i,r){var e=this._s;if(arguments.length>=2&&_isString(t)&&t.length>0&&(_isString(i)&&i.length>0||_isFunction(i)))return function(n){for(var s,o=-1,h=n.length;++o<h;){if(_isString(i)&&n[o][i]===r||_isFunction(i)&&i.call(e,n[o],o,n))return n[o];if(Array.isArray(n[o][t])&&void 0!==(s=arguments.callee(n[o][t])))return s}}(this);throw ERR_INV},Array.prototype.search=function(t,i){if(void 0===t||null===t||String.isEmpty(t))return _createImmutable(this);var r,e=t.split(" ").norm().select(function(t){return new RegExp(RegExp.escape(t.trim()),"i")});if(1===e.length)if(e=e[0],void 0===i)r=this.where(function(t){return e.test(t)});else if(_isString(i)&&i.length>0)r=this.where(function(t){return e.test(t[i])});else{if(!_isFunction(i))throw ERR_INV;r=this.where(function(){return e.test(i.apply(this,arguments))})}else{var n=function(t){for(var i=-1,r=e.length;++i<r;)if(e[i].test(t)===!1)return!1;return!0};if(void 0===i)r=this.where(function(t){return n(t)});else if(_isString(i)&&i.length>0)r=this.where(function(t){return n(t[i])});else{if(!_isFunction(i))throw ERR_INV;r=this.where(function(){return n(i.apply(this,arguments))})}}return r};var _isObject=function(t){return"object"==typeof t&&null!==t&&t instanceof Array==!1&&"[object Function]"!==Object.prototype.toString.call(t)};Object.isObject=_isObject,Object.isEmpty=function(t){var i;if(t instanceof Map||t instanceof Set)return 0===t.size;if(_isObject(t)){for(i in t)if(Object.prototype.hasOwnProperty.call(t,i))return!1;return!0}return!!Array.isArray(t)&&0===t.length},Object.isEqual=function(t,i){if(2!==arguments.length)throw ERR_INV;if(t===i)return!0;if(Array.isArray(t)&&Array.isArray(i))return t.length===i.length&&t.all(function(r,e){return Object.isEqual(t[e],i[e])});if(_isObject(t)&&_isObject(i)){var r,e=Array.create();for(r in t)void 0!==t[r]&&e.push(r);var n=Array.create();for(r in i)void 0!==i[r]&&n.push(r);return e.isAlike(n)&&e.all(function(r){return Object.isEqual(t[r],i[r])})}return!("number"!=typeof t||"number"!=typeof i||!isNaN(t)||!isNaN(i))};var _extend=function(t,i){var r;for(r in i)i.hasOwnProperty(r)&&(_isObject(t[r])&&_isObject(i[r])?_extend(t[r],i[r]):void 0!==i[r]&&(t[r]=i[r]))};Object.merge=function(t){if(_isObject(t)===!1)throw ERR_INV;for(var i=Array.from(arguments).slice(1),r=-1,e=i.length;++r<e;)_isObject(i[r])&&_extend(t,i[r]);return t},Object.clone=function(t){var i,r,e,n=-1;if(_isObject(t)){i={};for(r in t)i[r]=Object.clone(t[r]);return i}if(Array.isArray(t)){for(e=t.length,i=new Array(e);++n<e;)i[n]=Object.clone(t[n]);return i}return t},Math.percent=function(t){if(Array.isArray(t)===!1||t.length>0&&t.any(function(t){return _isNumber(t)===!1||isFinite(t)===!1}))throw ERR_INV;var i=t.sum();if(0===i)return t.clone();for(var r=t.select(function(t){return t/i*100}),e=r.select(Math.round);r.any(function(t){return t>0&&t<1});){var n=r.indexOf(function(t){return t>0&&t<1});r[n]=NaN,s-=e[n],e[n]=1,s+=1}var s=e.sum();if(100===s)return e;for(var o,n,h=e.length;100!==s&&r.all(isNaN)===!1;)if(s<100)for(o=r.max(function(t){return t-Math.floor(t)}),n=-1;++n<h;)r[n]===o&&(r[n]=NaN,e[n]+=1,s+=1);else for(o=r.min(function(t){return t-Math.floor(t)}),n=-1;++n<h;)r[n]===o&&(r[n]=NaN,e[n]-=1,s-=1);if(s<100)for(o=e.min(),n=-1;++n<h;)e[n]===o&&100!==s&&(e[n]+=1,s+=1);else for(o=e.max(),n=h;--n>=0;)e[n]===o&&100!==s&&(e[n]-=1,s-=1);return e};var _isNumber=function(t){return"number"==typeof t&&isNaN(t)===!1};Number.isNumber=_isNumber,Number.MAX_SAFE_INTEGER=Number.MAX_SAFE_INTEGER||9007199254740991;var _isInteger=function(t){return _isNumber(t)&&isFinite(t)&&Math.floor(t)===t&&Math.abs(t)<=Number.MAX_SAFE_INTEGER};Number.isSafeInteger=Number.isSafeInteger||_isInteger;var THOUSAND_GROUP_SEPARATOR=1234..toLocaleString().match(/\d(\D)\d{3}/)[1],FLOATING_POINT_SEPARATOR=.1.toLocaleString().match(/\d(\D)\d/)[1];Number.COUNTER={minDecimalPlace:NaN,maxDecimalPlace:2,addThousandSeparators:!0},Number.CURRENCY={minDecimalPlace:NaN,maxDecimalPlace:6,addThousandSeparators:!0},Number.PERCENT={minDecimalPlace:NaN,maxDecimalPlace:2,addThousandSeparators:!1,largeNumberScale:null},Number.prototype.format=function(t){var i=this.valueOf();if(isNaN(i)||isFinite(i)===!1)return void 0===t.spare?"":t.spare;var r=_resolve(String.GRAMMAR);t=t||{};var e=void 0===t.minDecimalPlace?NaN:parseInt(t.minDecimalPlace),n=void 0===t.maxDecimalPlace?6:parseInt(t.maxDecimalPlace),s=void 0===t.addThousandSeparators||t.addThousandSeparators,o=void 0===t.largeNumberScale?r.largeNumberScales:t.largeNumberScale,h=i<0,u=Math.abs(i),a=Array.isArray(o)?o.find(function(t){return u>=t.startingValue}):null;a&&(u/=a.scalingFactor);var f=Math.floor(u),l=0;isNaN(e)===!1?l=e:u.toString().indexOf(".")>=0&&(l=/\d+$/.exec(u.toString())[0].length),isNaN(n)===!1&&(l=Math.min(l,n));var c;if(u.toString().indexOf(".")>=0){var _=/\d+$/.exec(u.toString())[0];_.length>l?(c=Math.round(parseFloat(_.substring(0,l)+"."+_.substring(l)))/Math.pow(10,l),c>=1&&(f+=1,c-=1)):c=parseFloat("0."+_)}else c=0;var g;g=s?f.toString().replace(/\B(?=(\d{3})+(?!\d))/g,_isString(r.thousandGroupSeparator)?r.thousandGroupSeparator:THOUSAND_GROUP_SEPARATOR):f.toString();var p="";return l>0&&(p=(_isString(r.floatingPointSeparator)?r.floatingPointSeparator:FLOATING_POINT_SEPARATOR)+/\d+$/.exec(c.toFixed(l))[0]),u=g+p,_isString(r.digits)&&(u=u.split("").select(function(t){return/\d/.test(t)?r.digits.charAt(t):t}).join("")),h&&"0"!==u&&(u="-"+u),a&&(u=(a.prefix||"")+u+(a.suffix||"")),u};var _isString=function(t){return"string"==typeof t};String.isString=_isString,String.isEmpty=function(t){return _isString(t)&&(0===t.length||/^\s+$/.test(t))},String.prototype.contains=function(t){return this.indexOf(t)>=0},String.prototype.toHashCode=function(){var t=-1,i=this.length,r=0;if(0===i)return r;for(;++t<i;)r=(r<<5)-r+this.charCodeAt(t),r|=0;return r};var XML_PAR=[["<","&lt;"],[">","&gt;"],["&","&amp;"],['"',"&quot;"]],XML_ENC=XML_PAR.toObject("0","1"),XML_DEC=XML_PAR.toObject("1","0"),XML_SYM=new RegExp("["+XML_PAR.select("0").join("").replace(/\\/g,"\\\\")+"]","g"),XML_COD=new RegExp("("+XML_PAR.select("1").join("|").replace(/\\/g,"\\\\")+")","g"),_encodeXML=function(t){return XML_ENC[t]},_decodeXML=function(t){return XML_DEC[t];
};String.prototype.toEncodedXML=function(){return this.replace(XML_SYM,_encodeXML)},String.prototype.toDecodedXML=function(){return this.replace(XML_COD,_decodeXML)};var WRD_CPH=/[a-z][A-Z]|[A-Z]{2,}[a-z]|[0-9][a-zA-Z]|[a-zA-Z][0-9]|[^a-zA-Z0-9 ]/,WRD_CPL=/[A-Z\xc0-\xd6\xd8-\xde]?[a-z\xdf-\xf6\xf8-\xff]+(?:['’](?:d|ll|m|re|s|t|ve))?(?=[\xac\xb1\xd7\xf7\x00-\x2f\x3a-\x40\x5b-\x60\x7b-\xbf\u2000-\u206f \t\x0b\f\xa0\ufeff\n\r\u2028\u2029\u1680\u180e\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200a\u202f\u205f\u3000]|[A-Z\xc0-\xd6\xd8-\xde]|$)|(?:[A-Z\xc0-\xd6\xd8-\xde]|[^\ud800-\udfff\xac\xb1\xd7\xf7\x00-\x2f\x3a-\x40\x5b-\x60\x7b-\xbf\u2000-\u206f \t\x0b\f\xa0\ufeff\n\r\u2028\u2029\u1680\u180e\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200a\u202f\u205f\u3000\d+\u2700-\u27bfa-z\xdf-\xf6\xf8-\xffA-Z\xc0-\xd6\xd8-\xde])+(?:['’](?:D|LL|M|RE|S|T|VE))?(?=[\xac\xb1\xd7\xf7\x00-\x2f\x3a-\x40\x5b-\x60\x7b-\xbf\u2000-\u206f \t\x0b\f\xa0\ufeff\n\r\u2028\u2029\u1680\u180e\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200a\u202f\u205f\u3000]|[A-Z\xc0-\xd6\xd8-\xde](?:[a-z\xdf-\xf6\xf8-\xff]|[^\ud800-\udfff\xac\xb1\xd7\xf7\x00-\x2f\x3a-\x40\x5b-\x60\x7b-\xbf\u2000-\u206f \t\x0b\f\xa0\ufeff\n\r\u2028\u2029\u1680\u180e\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200a\u202f\u205f\u3000\d+\u2700-\u27bfa-z\xdf-\xf6\xf8-\xffA-Z\xc0-\xd6\xd8-\xde])|$)|[A-Z\xc0-\xd6\xd8-\xde]?(?:[a-z\xdf-\xf6\xf8-\xff]|[^\ud800-\udfff\xac\xb1\xd7\xf7\x00-\x2f\x3a-\x40\x5b-\x60\x7b-\xbf\u2000-\u206f \t\x0b\f\xa0\ufeff\n\r\u2028\u2029\u1680\u180e\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200a\u202f\u205f\u3000\d+\u2700-\u27bfa-z\xdf-\xf6\xf8-\xffA-Z\xc0-\xd6\xd8-\xde])+(?:['’](?:d|ll|m|re|s|t|ve))?|[A-Z\xc0-\xd6\xd8-\xde]+(?:['’](?:D|LL|M|RE|S|T|VE))?|\d+|(?:[\u2700-\u27bf]|(?:\ud83c[\udde6-\uddff]){2}|[\ud800-\udbff][\udc00-\udfff])[\ufe0e\ufe0f]?(?:[\u0300-\u036f\ufe20-\ufe23\u20d0-\u20f0]|\ud83c[\udffb-\udfff])?(?:\u200d(?:[^\ud800-\udfff]|(?:\ud83c[\udde6-\uddff]){2}|[\ud800-\udbff][\udc00-\udfff])[\ufe0e\ufe0f]?(?:[\u0300-\u036f\ufe20-\ufe23\u20d0-\u20f0]|\ud83c[\udffb-\udfff])?)*/g,WRD_BSC=/[a-zA-Z0-9]+/g,_splitWords=function(t){return t.match(WRD_CPH.test(t)?WRD_CPL:WRD_BSC)||[]},CAS_LAT=/[\xc0-\xd6\xd8-\xde\xdf-\xf6\xf8-\xff]/g,CAS_MAP={"À":"A","Á":"A","Â":"A","Ã":"A","Ä":"A","Å":"A","à":"a","á":"a","â":"a","ã":"a","ä":"a","å":"a","Ç":"C","ç":"c","Ð":"D","ð":"d","È":"E","É":"E","Ê":"E","Ë":"E","è":"e","é":"e","ê":"e","ë":"e","Ì":"I","Í":"I","Î":"I","Ï":"I","ì":"i","í":"i","î":"i","ï":"i","Ñ":"N","ñ":"n","Ò":"O","Ó":"O","Ô":"O","Õ":"O","Ö":"O","Ø":"O","ò":"o","ó":"o","ô":"o","õ":"o","ö":"o","ø":"o","Ù":"U","Ú":"U","Û":"U","Ü":"U","ù":"u","ú":"u","û":"u","ü":"u","Ý":"Y","ý":"y","ÿ":"y","Æ":"Ae","æ":"ae","Þ":"Th","þ":"th","ß":"ss"},CAS_MAR=/[\u0300-\u036f\ufe20-\ufe23\u20d0-\u20f0]/g,_replaceLatin=function(t){return CAS_MAP[t]};String.prototype.toEnglishCase=function(){return this.replace(CAS_LAT,_replaceLatin).replace(CAS_MAR,"")};var _capitalizeWord=function(t){return t.charAt(0).toUpperCase()+t.substring(1).toLowerCase()};String.prototype.toCapitalCase=function(){var t,i=this.toString(),r=0,e=i.length,n=[i.charAt(0)],s=/\w/.test(n[0]);if(0===e)return i;for(;++r<e;)t=i.charAt(r),/\w/.test(t)===s?n[n.length-1]+=t:n.push(t),s=/\w/.test(t);for(r=-1,e=n.length;++r<e;)t=n[r],t===t.toUpperCase()?n[r]=t:n[r]=_capitalizeWord(t);return n.join("")};var CAS_APO=/['’]/g;String.prototype.toCamelCase=function(){var t=_splitWords(this.toEnglishCase().replace(CAS_APO,"")).map(_capitalizeWord).join("");return t.length>0&&(t=t[0].toLowerCase()+t.substring(1)),t},String.prototype.toTrainCase=function(){return _splitWords(this.toEnglishCase().replace(CAS_APO,"")).join("-").toLowerCase()},String.prototype.latchOf=function(t,i){for(var r=0,e=-1,n=this.length;++e<n;)if(this.substring(e,e+t.length)===t)r++,e+=t.length-1;else if(this.substring(e,e+i.length)===i){if(r--,0===r)return e;e+=i.length-1}return-1},String.DICTIONARY={"en-US":{}},String.GRAMMAR={"en-US":{series:function(t){return t.length<=1?t.join(""):t.take(t.length-1).join(", ")+" and "+t.last()},plural:function(t,i){return 1===i||1===t.length?t[0]:t[1]},digits:null,thousandGroupSeparator:",",floatingPointSeparator:".",largeNumberScales:[{suffix:"T",startingValue:1e12,scalingFactor:1e12},{suffix:"B",startingValue:1e9,scalingFactor:1e9},{suffix:"M",startingValue:1e6,scalingFactor:1e6},{suffix:"K",startingValue:1e3,scalingFactor:1e3}]},"es-ES":{thousandGroupSeparator:".",floatingPointSeparator:","},"th-TH":{series:function(t){return t.length<=1?t.join(" "):t.take(t.length-1).join(" ")+"และ"+t.last()},plural:null,digits:null}};var _resolve=function(t,i){1===arguments.length&&(i=String.LOCALE);var r=t[i];return _isString(r)?_resolve(t,r):(void 0===r&&i.length>2&&(i=i.split("-"),lot=i[i.length-2],r=Object.keys(t).find(function(t){return t.split("-").has(i)})),void 0===r?t["en-US"]:r)};String.LOCALE=win.navigator&&win.navigator.language||"en-US",String.prototype.translate=function(){var t=this.toString(),i=_resolve(String.DICTIONARY)||String.DICTIONARY["en-US"];return void 0!==i&&i[t]||t};var FMT_HSH={},FMT_CNT=0,_pluralize=function(t,i){var r=i.length;return function(){var e,n=_resolve(String.GRAMMAR);if(void 0!==n&&n.plural)for(var s,o=1;r-o>=0||r+o<i.length;){if(_isNumber(s=i[r-o])){e=n.plural(t,s);break}if(Array.isArray(s)){e=n.plural(t,s.length);break}if(_isNumber(s=i[r+o])){e=n.plural(t,s);break}if(Array.isArray(s)){e=n.plural(t,s.length);break}o+=1}return void 0===e?t[0]:e}},_serialize=function(t){var i=_resolve(String.GRAMMAR);return void 0!==i&&i.series?i.series(t):t.join(", ")},FMT_VRN=/\$\$\w/;String.prototype.format=function(opt){var key=this.toString(),pvt=0,idx,jdx,bnd=this.length,$$i=opt,$$o=[],$$t=[],$$p=_pluralize,nam,vrs="",exe="",tmp,out="";if(_isObject(opt)){for(nam in opt){if(FMT_VRN.test(nam))throw ERR_IPR;nam.startsWith("_")===!1&&opt.hasOwnProperty(nam)&&(vrs+=","+nam+"=$$i."+nam)}vrs.length>0&&(vrs="var "+vrs.substring(1)+";")}if(void 0!==FMT_HSH[key])exe=FMT_HSH[key];else{for(;pvt<bnd;)idx=this.indexOf("$",pvt),idx>=0?"{"===this.charAt(idx+1)?(jdx=this.substring(idx).latchOf("{","}"),jdx>=0?(exe+="$$o.push("+JSON.stringify(this.substring(pvt,idx))+");",exe+="$$o.push($$t.length);",exe+="$$t.push("+this.substring(idx+2,idx+jdx)+");",pvt=idx+jdx+1):(exe+="$$o.push("+JSON.stringify(this.substring(pvt,idx+2))+");",pvt=idx+2)):"["===this.charAt(idx+1)?(jdx=this.substring(idx).latchOf("[","]"),jdx>=0?(exe+="$$o.push("+JSON.stringify(this.substring(pvt,idx))+");",exe+="$$o.push($$t.length);",exe+="$$t.push($$p("+JSON.stringify(this.substring(idx+2,idx+jdx).split("|"))+",$$t));",pvt=idx+jdx+1):(exe+="$$o.push("+JSON.stringify(this.substring(pvt,idx+2))+");",pvt=idx+2)):(exe+="$$o.push("+JSON.stringify(this.substring(pvt,idx+2))+");",pvt=idx+2):(exe+="$$o.push("+JSON.stringify(this.substring(pvt))+");",pvt=bnd);FMT_HSH[key]=exe,FMT_CNT+=1,FMT_CNT>1024&&(FMT_HSH={})}for(eval("(function(){"+vrs+exe+"})();"),idx=-1,bnd=$$o.length;++idx<bnd;)tmp=$$o[idx],_isNumber(tmp)?(tmp=$$t[tmp],out+=_isNumber(tmp)?tmp.format():Array.isArray(tmp)?_serialize(tmp):_isFunction(tmp)?tmp():tmp):out+=tmp;return out};var REG_CHR=/[\-\[\]\/\{\}\(\)\*\+\?\.\\\^\$\|]/g;RegExp.escape=function(t){return t.replace(REG_CHR,"\\$&")},Map.prototype.toArray=function(){return Array.create(this)},Map.prototype.toObject=function(){var t={};return this.forEach(function(i,r){void 0===r?r="undefined":null===r?r="null":_isString(r)===!1&&(r=r.toString()),t[r]=i}),t}});
//# sourceMappingURL=Enumerable-min.map