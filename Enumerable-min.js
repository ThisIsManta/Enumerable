/*
 * @name Enumerable
 * @version 4.0.3
 * @author Anantachai Saothong <thisismanta@outlook.com>
 * @license MIT
 * https://github.com/ThisIsManta/Enumerable.git
*/
!function(){var t="one or more parameters were not valid",r="an index was out-of-range",e="a length was not valid",i="a string cannot be empty",n="an array cannot be empty",o="an array had no matching members",s="an array had more than one matching member",f="an array had too many matching members",h="one or more array members were not an object",l="[invokeWhich] must be called after [groupBy]",u="a non-object type was not allowed";Array.create=function(){var r,i,n,o=arguments[0],s=arguments[1],f=arguments[2],h=-1;if("object"==typeof o&&null!==o)if(o instanceof Array)n=o,n._m=!0;else if(o instanceof Map)n=new Array(o.size),o.forEach(function(t,r){n[++h]=[r,t]}),n._m=!1;else if("number"==typeof o.length){var l=o.length;if(!(w(l)&&l>=0))throw new Error(e);for(n=new Array(l);++h<l;)n[h]=o[h];n._m=!1}else{n=[];var u=arguments.length>=2&&(arguments[arguments.length-1]===!0||arguments[arguments.length-2]===!0);if("string"==typeof s){void 0!==f&&"string"==typeof f||(f="value");for(r in o)void 0!==o[r]&&(u||"function"!=typeof o[r]&&"_"!==r.charAt(0))&&(i={},i[s]=r,i[f]=o[r],n[++h]=i)}else for(r in o)void 0!==o[r]&&(u||"function"!=typeof o[r]&&"_"!==r.charAt(0))&&(n[++h]={name:r,value:o[r]});n._m=!1}else if("string"==typeof o)n="string"==typeof s||s instanceof RegExp?o.split(s):o.split(""),n._m=!1;else if("number"==typeof o&&w(o)&&o>=0){if(n=new Array(o),void 0!==s)for(;++h<o;)n[h]=s;n._m=!1}else{if(0!==arguments.length)throw new Error(t);n=[],n._m=!1}return n},Array.prototype.bind=function(t){if(0===arguments.length)throw new TypeError(u);return void 0===t||null===t?delete this._s:"object"==typeof t&&(this._s=t),this};var a=function(t){if("object"==typeof t&&null!==t){var r,e;if(t instanceof Array){var i=t.length;for(r=new Array(i),e=-1;++e<i;)r[e]=a(t[e]);return r}r={};for(e in t)r[e]=a(t[e]);return r}return t};Array.prototype.clone=function(){var t,r=!!arguments[0];return t=r===!0?a(this):this.slice(0),t._m=!1,void 0!==this._s&&(t._s=this._s),t},Array.prototype.toImmutable=function(){return void 0===this._m||this._m===!0?this.clone():this},Array.prototype.toObject=function(){var r,e=arguments[0],i=arguments[1],n=-1,o=this.length,s={},f=this._s;if(0===arguments.length)for(;++n<o;)r=this[n],s[r.toString()]=r;else if("string"==typeof e)if(1===arguments.length)for(;++n<o;)r=this[n][e],null===r&&(r="null"),void 0!==r&&(s[r.toString()]=this[n]);else if("string"==typeof i)for(;++n<o;)r=this[n][e],null===r&&(r="null"),void 0!==r&&(s[r.toString()]=this[n][i]);else if("function"==typeof i)for(;++n<o;)r=this[n][e],null===r&&(r="null"),void 0!==r&&(s[r.toString()]=i.call(f,this[n],n,this));else for(;++n<o;)r=this[n][e],null===r&&(r="null"),void 0!==r&&(s[r.toString()]=i);else{if("function"!=typeof e)throw new Error(t);if(1===arguments.length)for(;++n<o;)r=e.call(f,this[n],n,this),null===r&&(r="null"),void 0!==r&&(s[r.toString()]=this[n]);else if("string"==typeof i)for(;++n<o;)r=e.call(f,this[n],n,this),null===r&&(r="null"),void 0!==r&&(s[r.toString()]=this[n][i]);else if("function"==typeof i)for(;++n<o;)r=e.call(f,this[n],n,this),null===r&&(r="null"),void 0!==r&&(s[r.toString()]=i.call(f,this[n],n,this));else for(;++n<o;)r=e.call(f,this[n],n,this),null===r&&(r="null"),void 0!==r&&(s[r.toString()]=i)}return s},Array.prototype.toMap=function(){var r=arguments[0],e=arguments[1],i=-1,n=this.length,o=new Map,s=this._s;if(0===arguments.length)for(;++i<n;)o.set(i,this[i]);else if("string"==typeof r)if(1===arguments.length)for(;++i<n;)o.set(this[i][r],this[i]);else if("string"==typeof e)for(;++i<n;)o.set(this[i][r],this[i][e]);else if("function"==typeof e)for(;++i<n;)o.set(this[i][r],e.call(s,this[i],i,this));else for(;++i<n;)o.set(this[i][r],e);else{if("function"!=typeof r)throw new Error(t);if(1===arguments.length)for(;++i<n;)o.set(r.call(s,this[i],i,this),this[i]);else if("string"==typeof e)for(;++i<n;)o.set(r.call(s,this[i],i,this),this[i][e]);else if("function"==typeof e)for(;++i<n;)o.set(r.call(s,this[i],i,this),e.call(s,this[i],i,this));else for(;++i<n;)o.set(r.call(s,this[i],i,this),e)}return o};var c=Array.prototype.toString;Array.prototype.toString=function(){var r=arguments[0];if(0===arguments.length)return c.call(this);if(1===arguments.length&&"string"==typeof r)return this.join(r);throw new Error(t)},Array.prototype.where=function(){var r,e,i,n=arguments[0],o=arguments[1],s=-1,f=-1,h=this.length,l=[];if("function"==typeof n&&1===arguments.length)l=this.filter(n,this._s);else if("object"==typeof n&&1===arguments.length)for(;++s<h;){r=1,e=this[s];for(i in n)if(r&=e[i]===n[i],!r)break;r&&(l[++f]=e)}else{if("string"!=typeof n||2!==arguments.length)throw new Error(t);for(;++s<h;)e=this[s],e[n]===o&&(l[++f]=e)}return void 0!==this._s&&(l._s=this._s),l},Array.prototype.select=function(){var r,e,n,o,s=arguments[0],f=-1,h=this.length;if(1!==arguments.length)throw new Error(t);if("function"==typeof s)for(o=new Array(h);++f<h;)o[f]=s.call(this._s,this[f],f,this);else if("string"==typeof s||"number"==typeof s&&isFinite(s)&&s<=Number.MAX_SAFE_INTEGER&&(s=s.toString())){if(o=new Array(h),0===s.length)throw new Error(i);for(;++f<h;)o[f]=this[f][s]}else{if(!Array.isArray(s))throw new Error(t);for(e=s.length,o=new Array(h);++f<h;){for(r=-1,n={};++r<e;)n[s[r]]=this[f][s[r]];o[f]=n}}return void 0!==this._s&&(o._s=this._s),o},Array.prototype.invoke=function(){var e,i=Array.prototype.slice.call(arguments).indexOf(function(t){return"function"==typeof t}),n=i>=1?arguments[0]:0,o=i>=2?arguments[1]:this.length,s=i>=3?arguments[2]:n<o?1:-1,f=arguments[i],h=this._s;if(!("function"==typeof f&&w(n)&&n>=0&&w(o)&&w(s)&&0!==s))throw new Error(t);if(!(o>=0&&o<=this.length))throw new RangeError(r);if(0===n&&o>=1024&&1===s){for(;n<o%8&&e!==!1;)e=f.call(h,this[n],n++,this);for(;n<o&&e!==!1;)e!==!1&&(e=f.call(h,this[n],n++,this)),e!==!1&&(e=f.call(h,this[n],n++,this)),e!==!1&&(e=f.call(h,this[n],n++,this)),e!==!1&&(e=f.call(h,this[n],n++,this)),e!==!1&&(e=f.call(h,this[n],n++,this)),e!==!1&&(e=f.call(h,this[n],n++,this)),e!==!1&&(e=f.call(h,this[n],n++,this)),e!==!1&&(e=f.call(h,this[n],n++,this))}else if(s>0)for(;n<o&&e!==!1;)e=f.call(h,this[n],n,this),n+=s;else for(n--;n>=o&&e!==!1;)e=f.call(h,this[n],n,this),n+=s;return this},Array.prototype.invokeAsync=function(){var e,i,n=Array.prototype.slice.call(arguments).indexOf(function(t){return"function"==typeof t}),o=n>=1?arguments[0]:0,s=n>=2?arguments[1]:this.length,f=n>=3?arguments[2]:o<s?1:-1,h=arguments[n],l=void 0!==arguments[n+1]?arguments[n+1]:1,u=this,a=this._s;if(!("function"==typeof h&&w(o)&&o>=0&&w(s)&&w(f)&&0!==f&&w(l)&&l>0))throw new Error(t);if(!(s>=0&&s<=this.length))throw new RangeError(r);return f>0?i=new Promise(function(t,r){e=function(){for(var i,n=l;o<s&&n-- >0&&i!==!1;)i=h.call(a,u[o],o,u),o+=f;i===!1?r():o<s?setTimeout(e,2):t(u)}}):(o--,i=new Promise(function(t,r){e=function(){for(var i,n=l;o>=s&&n-- >0&&i!==!1;)i=h.call(a,u[o],o,u),o+=f;i===!1?r():o>=s?setTimeout(e,2):t(u)}})),setTimeout(e),i},Array.prototype.invokeWhich=function(){var r=arguments[0],e=arguments[1];if(void 0===this._g)throw new Error(l);if("function"!=typeof e||2!==arguments.length)throw new Error(t);return r=void 0===r?"undefined":null===r?"null":r.toString(),this._g[r].invoke(e),this},Array.prototype.take=function(){var e,i=arguments[0],n=arguments[1],o=-1,s=this.length;if("function"==typeof i){for(;++o<s&&i.call(this._s,this[o],o,this)!==!1;);e=this.slice(0,o)}else if(!isFinite(i)||i>=Number.MAX_SAFE_INTEGER)e=this.toImmutable();else{if(!w(i))throw new Error(t);if(i<0||i>s)throw new RangeError(r);if(w(n)){if(n<0||n>s)throw new RangeError(r);if(i>n)throw new RangeError(ERR_SGS);e=this.slice(i,n)}else e=this.slice(0,i)}return void 0!==this._s&&(e._s=this._s),e},Array.prototype.skip=function(){var e,i,n=arguments[0],o=arguments[1],s=-1,f=this.length;if("function"==typeof n){for(e=f;++s<f;)if(n.call(this._s,this[s],s,this)===!1){e=s;break}return this.take.call(this,e,f)}if(!isFinite(n)||n>=Number.MAX_SAFE_INTEGER)i=[];else{if(!w(n))throw new Error(t);if(n<0||n>f)throw new RangeError(r);if(w(o)){if(o<0||o>f)throw new RangeError(r);if(n>o)throw new RangeError(ERR_SGS);i=this.toImmutable(),i.splice(n,o-n)}else i=this.slice(n)}return void 0!==this._s&&(i._s=this._s),i},Array.prototype.trim=function(){var t=arguments[0],r=-1,e=this.length,i=this.toImmutable();if("function"==typeof t){for(;--e>=0;)if(!t.call(this._s,this[e],e,this)){i.splice(e+1,this.length-e);break}for(;++r<e;)if(!t.call(this._s,this[r],r,this)){i.splice(0,r);break}}else{for(;--e>=0;)if(Object.isEqual(this[e],t)===!1){i.splice(e+1,this.length-e);break}for(;++r<e;)if(Object.isEqual(this[r],t)===!1){i.splice(0,r);break}}return i},Array.prototype.flatten=function(){for(var t,r,e,i=!!arguments[0],n=-1,o=-1,s=this.length,f=[];++n<s;)if(e=this[n],Array.isArray(e)){if(e.length>0)for(i===!0&&(e=e.flatten(i)),t=-1,r=e.length;++t<r;)f[++o]=e[t]}else f[++o]=e;return void 0!==this._s&&(f._s=this._s),f},Array.prototype.any=function(){var t=arguments[0],r=arguments[1],e=-1,i=this.length;if(0===i)return!1;if(0===arguments.length)return!0;if("function"==typeof t){for(;++e<i;)if(t.call(this._s,this[e],e,this))return!0;return!1}if("string"==typeof t&&2===arguments.length){for(;++e<i;)if(this[e][t]===r)return!0;return!1}for(;++e<i;)if(this[e]===t)return!0;return!1},Array.prototype.all=function(){var r=arguments[0],e=arguments[1],i=-1,n=this.length;if(0===n)return!0;if(0===arguments.length)throw new Error(t);if("function"==typeof r){for(;++i<n;)if(!r.call(this._s,this[i],i,this))return!1;return!0}if("string"==typeof r&&2===arguments.length){for(;++i<n;)if(this[i][r]!==e)return!1;return!0}for(;++i<n;)if(this[i]!==r)return!1;return!0},Array.prototype.has=function(){return this.indexOf.apply(this,arguments)>=0},Array.prototype.isEqual=function(){var r=Array.create(arguments[0]),e=arguments[1],i=-1,n=this.length;if(n!==r.length)return!1;if(1===arguments.length){for(;++i<n;)if(!(Array.isArray(this[i])&&Array.isArray(r[i])&&this[i].isEqual(r[i]))&&this[i]!==r[i])return!1;return!0}if("function"==typeof e&&2===arguments.length){for(;++i<n;)if(!e.call(this._s,this[i],r[i]))return!1;return!0}throw new Error(t)},Array.prototype.isAlike=function(){var r,e,i,n=Array.create(arguments[0]).toImmutable(),o=arguments[1],s=-1,f=this.length;if(f!==n.length||0===f!=(0===n.length))return!1;if(1===arguments.length){for(;++s<f;){if(i=n.indexOf(this[s]),i<0)return!1;n.removeAt(i)}return 0===n.length}if("function"==typeof o&&2===arguments.length){for(;++s<f;){for(i=this[s],r=-1,e=n.length;++r<e&&!o.call(this._s,i,n[r]););if(r===e)return!1;n.removeAt(r)}return 0===n.length}throw new Error(t)},Array.prototype.isSubset=function(){var r=this,e=Array.create(arguments[0]),i=arguments[1],n=-1,o=this.length,s=e._s;if(e._s=this._s,1===arguments.length){for(;++n<o;)if(e.indexOf(this[n])===-1)return!1}else{if("function"!=typeof i||2!==arguments.length)throw new Error(t);for(var f=function(t){return i.call(this,r[n],t)};++n<o;)if(e.indexOf(f)===-1)return!1}return void 0===s?delete e._s:e._s=s,!0};var p=Array.prototype.indexOf;Array.prototype.indexOf=function(){var r=arguments[0],e=arguments[1],i=-1,n=this.length;if(arguments.length>=1){if("function"==typeof r){for(w(e)&&(i=e>=0?e-1:n+e-1),i<0&&(i=-1);++i<n;)if(r.call(this._s,this[i],i,this))return i;return-1}return p.apply(this,arguments)}throw new Error(t)};var y=Array.prototype.lastIndexOf;Array.prototype.lastIndexOf=function(){var r=arguments[0],e=arguments[1],i=this.length;if(arguments.length>=1){if("function"==typeof r){for(w(e)&&(i=e>=0?e:this.length+e+1),i<0&&(i=this.length);--i>=0;)if(r.call(this._s,this[i],i,this))return i;return-1}return y.apply(this,arguments)}throw new Error(t)};var g=Array.prototype.find;Array.prototype.find=function(){var r,e=arguments[0],i=arguments[1];if("function"==typeof e)return g.apply(this,arguments);if("string"==typeof e&&2===arguments.length)return r=this.indexOf.call(this,function(t){return t[e]===i}),r>=0?this[r]:void 0;throw new Error(t)},Array.prototype.first=function(){if(0===this.length)throw new Error(n);if(0===arguments.length)return this[0];var t=this.indexOf.apply(this,arguments);if(t>=0)return this[t];throw new Error(o)},Array.prototype.firstOrNull=function(){if(0===this.length)return null;if(0===arguments.length)return this[0];var t=this.indexOf.apply(this,arguments);return t>=0?this[t]:null},Array.prototype.last=function(){if(0===this.length)throw new Error(n);if(0===arguments.length)return this[this.length-1];var t=this.lastIndexOf.apply(this,arguments);if(t>=0)return this[t];throw new Error(o)},Array.prototype.lastOrNull=function(){if(0===this.length)return null;if(0===arguments.length)return this[this.length-1];var t=this.lastIndexOf.apply(this,arguments);return t>=0?this[t]:null},Array.prototype.single=function(){if(0===this.length)throw new Error(n);if(0===arguments.length){if(1===this.length)return this[0];throw new Error(s)}if(1===arguments.length){var r=arguments[0],e=this.indexOf.call(this,r);if(e>=0){if(e===this.lastIndexOf.call(this,r))return this[e];throw new Error(f)}throw new Error(o)}throw new Error(t)},Array.prototype.singleOrNull=function(){if(0===this.length)return null;if(0===arguments.length)return 1===this.length?this[0]:null;if(1===arguments.length){var r=this.indexOf.call(this,arguments[0]);return r>=0&&r===this.lastIndexOf.call(this,arguments[0])?this[r]:null}throw new Error(t)},Array.prototype.distinct=function(){var r,e=arguments[0],i={},n=-1,o=-1,s=this.length,f=!1,h=!1,l=[];if(0===arguments.length)for(;++n<s;)r=this[n],void 0===r?f===!1&&(f=!0,l[++o]=this[n]):null===r?h===!1&&(h=!0,l[++o]=this[n]):void 0===i[r=r.toString()]&&(i[r]=!0,l[++o]=this[n]);else if("string"==typeof e&&e.length>0&&1===arguments.length)for(;++n<s;)r=this[n][e],void 0===r?f===!1&&(f=!0,l[++o]=this[n]):null===r?h===!1&&(h=!0,l[++o]=this[n]):void 0===i[r=r.toString()]&&(i[r]=!0,l[++o]=this[n]);else{if("function"!=typeof e||1!==arguments.length)throw new Error(t);for(;++n<s;)r=e.call(this._s,this[n],n,this),void 0===r?f===!1&&(f=!0,l[++o]=this[n]):null===r?h===!1&&(h=!0,l[++o]=this[n]):void 0===i[r=r.toString()]&&(i[r]=!0,l[++o]=this[n])}return void 0!==this._s&&(l._s=this._s),l},Array.prototype.add=function(){var e=arguments[0],i=arguments[1];if(1===arguments.length||i===this.length)this.push(e);else{if(!w(i)||2!==arguments.length)throw new Error(t);if(!(i>=0&&i<=this.length))throw new RangeError(r);this.splice(i,0,e)}return this},Array.prototype.addRange=function(){var e=Array.create(arguments[0]),i=arguments[1];if(1===arguments.length||i===this.length)Array.prototype.splice.apply(this,[this.length,0].concat(e));else{if(!w(i)||2!==arguments.length)throw new Error(t);if(!(i>=0&&i<=this.length))throw new RangeError(r);1===e.length?this.splice(i,0,e[0]):e.length>1&&Array.prototype.splice.apply(this,[i,0].concat(e))}return this},Array.prototype.remove=function(){var r,e=arguments[0],i=arguments[1];if(arguments.length<=2)return r=this.indexOf(e),r>=0&&(!w(i)||r>=i)?this.removeAt(r):this;throw new Error(t)},Array.prototype.removeAt=function(){var e=arguments[0];if(1!==arguments.length)throw new Error(t);if(!(w(e)&&e>=0&&e<=this.length))throw new RangeError(r);return this.splice(e,1),this},Array.prototype.removeRange=function(){var r=Array.create(arguments[0]),e=-1,i=r.length;if(1!==arguments.length)throw new Error(t);for(;++e<i;)this.remove(r[e]);return this},Array.prototype.removeAll=function(){var r=arguments[0];if(0===arguments.length)this.splice(0,this.length);else{if(1!==arguments.length)throw new Error(t);for(var e=this.length;--e>=0;)this[e]===r&&this.splice(e,1)}return this},Array.prototype.split=function(){var r=arguments[0],e=arguments[1],i=-1,n=0,o=this.length,s=[],f=this._s;if(1===arguments.length)if("function"==typeof r)for(;++i<o;)r.call(f,this[i],i,this)&&(s.push(this.slice(n,i)),n=i+1);else for(;++i<o;)this[i]===r&&(s.push(this.slice(n,i)),n=i+1);else{if("string"!=typeof r||2!==arguments.length)throw new Error(t);for(;++i<o;)this[i][r]===e&&(s.push(this.slice(n,i)),n=i+1)}return this.length>0&&n<=o&&s.push(this.slice(n)),void 0!==this._s&&(s._s=this._s),s},Array.prototype.splitAt=function(){var e=arguments[0],i=[];if(w(e)&&1===arguments.length){if(e>=0&&e<this.length)return i.push(this.slice(0,e)),i.push(this.slice(e)),void 0!==this._s&&(i._s=this._s),i;throw new RangeError(r)}throw new Error(t)},Array.prototype.replace=function(){var r=arguments[0],e=arguments[1],i=arguments[2],n=-1,o=this.length;if(!(arguments.length>=2))throw new Error(t);if((!w(i)||i<0)&&(i=1/0),"function"==typeof r)for(;++n<o&&i>0;)r.call(this._s,this[n],n,this)&&(this[n]=e,i--);else for(;++n<o&&i>0;)this[n]===r&&(this[n]=e,i--);return this},Array.prototype.replaceAt=function(){var e=arguments[0],i=arguments[1];if(2!==arguments.length)throw new Error(t);if(!w(e)||e<0||e>=this.length)throw new RangeError(r);return this[e]=i,this},Array.prototype.union=function(){var r=Array.create(arguments[0]),e=-1,i=this.length-1,n=r.length,o=this.toImmutable();if(1===arguments.length){for(;++e<n;)this.has(r[e])||(o[++i]=r[e]);return o}throw new Error(t)},Array.prototype.intersect=function(){var r=Array.create(arguments[0]),e=-1,i=-1,n=this.length,o=[];if(1===arguments.length){for(;++e<n;)r.has(this[e])&&(o[++i]=this[e]);return o._m=!1,void 0!==this._s&&(o._s=this._s),o}throw new Error(t)},Array.prototype.difference=function(){var r=Array.create(arguments[0]),e=-1,i=-1,n=this.length,o=[];if(1===arguments.length){for(;++e<n;)r.has(this[e])||(o[++i]=this[e]);return o._m=!1,void 0!==this._s&&(o._s=this._s),o}throw new Error(t)};var d=Array.prototype.sort;Array.prototype.sortBy=function(){var r,e=arguments[0],n=arguments[1],o=this._s;if(arguments.length<=2){if(Array.isArray(e)){if("string"==typeof e&&e.length>0){var s=e;e=function(t){return t[s]}}var f=this.length;if(1===arguments.length)r=this.select(function(t,r){var i=e.indexOf(t);return{v:t,r:i>=0?i:f+r}});else{if("function"!=typeof e)throw new Error(t);r=this.select(function(t,r){var i=n.indexOf(e.apply(o,arguments));return{v:t,r:i>=0?i:f+r}})}e=void 0}else if("function"==typeof e)r=this.select(function(t,r){return{v:t,r:e.call(o,t,r,this),i:r}});else{if("string"!=typeof e)throw new Error(t);if(0===e.length)throw new Error(i);r=this.select(function(t){return{v:t,r:t[e]}})}return this.length<=0?this:(n!==!0?d.call(r,function(t,r){return t.r===r.r?t.i-r.i:t.r>r.r||void 0===t.r||null===t.r||""===t.r?1:t.r<r.r||void 0===r.r||null===r.r||""===r.r?-1:t.r-r.r}):d.call(r,function(t,r){return t.r===r.r?t.i-r.i:t.r>r.r||void 0===t.r||null===t.r||""===t.r?-1:t.r<r.r||void 0===r.r||null===r.r||""===r.r?1:r.r-t.r}),r.select("v"))}var h=Array.prototype.slice.call(arguments).select(function(r,e){if(e%2===0){if("string"==typeof r)return function(t){return t[r]};if("function"==typeof r)return r;throw new Error(t)}return void 0===r||!!r});h.length%2===1&&h.push(!1);var l,u,a,c,p=h.length/2;return r=this.clone(),d.call(r,function(t,r){for(l=-1;++l<p;){if(a=h[2*l].call(o,t),c=h[2*l].call(o,r),void 0===a||null===a||""===a){if(void 0===c||null===c||""===c)continue;u=1}else if(void 0===c||null===c||""===c)u=-1;else{if(a===c)continue;u=a<c?-1:1}return u*(h[2*l+1]===!0?-1:1)}return 0}),r},Array.prototype.groupBy=function(){var r,e,n,o=arguments[0],s=-1,f=this.length,h={},l={},u=[];if("string"==typeof o){if(0===o.length)throw new Error(i);e=o,o=function(t){return t[e]}}if("function"!=typeof o)throw new Error(t);for(;++s<f;)r=o.call(this._s,this[s],s,this),n=void 0===r?"undefined":null===r?"null":r.toString(),void 0===h[n]?(h[n]=[this[s]],l[n]=r):h[n].add(this[s]);for(n in h)r=h[n],r._m=!1,r._s=this._s,r.name=l[n],u.add(r);return u._g=h,void 0!==this._s&&(u._s=this._s),u},Array.prototype.groupOf=function(){var r,e,i=arguments[0],n=-1,o=this.length;if(w(i)&&i>0&&1===arguments.length){for(e=new Array(Math.ceil(o/i));++n<o;)r=e[Math.floor(n/i)],void 0===r&&(r=e[Math.floor(n/i)]=[]),r.push(this[n]);return void 0!==this._s&&(e._s=this._s),e}throw new Error(t)},Array.prototype.joinBy=function(){var r,e,n,o=Array.create(arguments[0]),s=arguments[1],f=arguments[2],l=-1,u=this.length,a=o.length,c=this._s;if(this.any(function(t){return"object"!=typeof t})||o.any(function(t){return"object"!=typeof t}))throw new Error(h);if("string"==typeof s){if(0===s.length)throw new Error(i);for(;++l<u;){for(r=-1,e=null;++r<a;)if(o[r][s]===this[l][s]){e=o[r];break}if(null!==e)for(n in e)f?this[l][n]=e[n]:void 0===this[l][n]&&(this[l][n]=e[n])}}else{if("function"!=typeof s)throw new Error(t);for(;++l<u;){for(r=-1,e=null;++r<a;)if(s.call(c,this[l],l,this)===s.call(c,o[r],r,o)){e=o[r];break}if(null!==e)for(n in e)f?this[l][n]=e[n]:void 0===this[l][n]&&(this[l][n]=e[n])}}return this},Array.prototype.countBy=function(){var r=arguments[0],e=arguments[1],i=-1,n=this.length,o=0,s=this._s;if(arguments.length<1||arguments.length>2)throw new Error(t);if("string"==typeof r)for(;++i<n;)this[i][r]===e&&o++;else if("function"==typeof r)for(;++i<n;)r.call(s,this[i],i,this)&&o++;else for(;++i<n;)this[i]===r&&o++;return o},Array.prototype.min=function(){var r,e,n=arguments[0],o=0,s=0,f=this.length,h=this._s;if(0===f)return null;if(1===f)return this[0];if(void 0===n)for(e=this[0];++o<f;)r=this[o],r<e&&(s=o,e=r);else if("string"==typeof n){if(0===n.length)throw new Error(i);for(e=this[0][n];++o<f;)r=this[o][n],r<e&&(s=o,e=r)}else{if("function"!=typeof n)throw new Error(t);for(e=n.call(h,this[0],0,this);++o<f;)r=n.call(h,this[o],o,this),r<e&&(s=o,e=r)}return s>=0?this[s]:null},Array.prototype.max=function(){var r,e,n=arguments[0],o=0,s=0,f=this.length,h=this._s;if(0===f)return null;if(1===f)return this[0];if(void 0===n)for(e=this[0];++o<f;)r=this[o],r>e&&(s=o,e=r);else if("string"==typeof n){if(0===n.length)throw new Error(i);for(e=this[0][n];++o<f;)r=this[o][n],r>e&&(s=o,e=r)}else{if("function"!=typeof n)throw new Error(t);for(e=n.call(h,this[0],0,this);++o<f;)r=n.call(h,this[o],o,this),r>e&&(s=o,e=r)}return s>=0?this[s]:null},Array.prototype.mod=function(){var r,e=arguments[0],n={},o=-1,s=this.length,f=this._s;if(0===s)return null;if(1===s)return this[0];if(void 0===e)for(;++o<s;)r=this[o].toString(),n[r]?n[r].c+=1:n[r]={i:o,c:1};else if("string"==typeof e){if(0===e.length)throw new Error(i);for(;++o<s;)r=this[o][e].toString(),n[r]?n[r].c+=1:n[r]={i:o,c:1}}else{if("function"!=typeof e)throw new Error(t);for(;++o<s;)r=e.call(f,this[o],o,this).toString(),n[r]?n[r].c+=1:n[r]={i:o,c:1}}return this[Array.create(n).max(function(t){return t.value.c}).value.i]},Array.prototype.sum=function(){var r,e,n=arguments[0],o=0,s=this.length,f=this._s;if(0===s)return 0;if(void 0===n)for(e=this[0];++o<s;)r=this[o],isNaN(r)===!1&&(e+=r);else if("string"==typeof n){if(0===n.length)throw new Error(i);for(e=this[0][n];++o<s;)r=this[o][n],isNaN(r)===!1&&(e+=r)}else{if("function"!=typeof n)throw new Error(t);for(e=n.call(f,this[0],0,this);++o<s;)r=n.call(f,this[o],o,this),isNaN(r)===!1&&(e+=r)}return e},Array.prototype.avg=function(){return this.sum.apply(this,arguments)/this.length},Array.prototype.norm=function(){var r,e=arguments[0],i=-1,n=-1,o=this.length,s=[],f=this._s;if(0===arguments.length)for(;++i<o;)r=this[i],r&&("string"!=typeof r||r.trim().length>0)&&("number"!=typeof r||isFinite(r))&&(s[++n]=r);else if("string"==typeof e)for(;++i<o;)r=this[i][e],r&&("string"!=typeof r||r.trim().length>0)&&("number"!=typeof r||isFinite(r))&&(s[++n]=this[i]);else{if("function"!=typeof e)throw new Error(t);for(;++i<o;)r=e.call(f,this[i],i,this),r&&("string"!=typeof r||r.trim().length>0)&&("number"!=typeof r||isFinite(r))&&(s[++n]=this[i])}return void 0!==this._s&&(s._s=this._s),s},Array.prototype.cast=function(){var r,e=arguments[0],i="function"==typeof e?e.name:e,n=-1,o=-1,s=this.length,f=[];if("string"==typeof i){if(i=i.toLowerCase(),"string"===i)for(;++n<s;)r=this[n],void 0!==r&&null!==r&&void 0!==r.toString&&(r=r.toString(),"[object Object]"!==r&&/function\s*\(.*\)\s*{.*}/.test(r)===!1&&(f[++o]=r.toString()));else if("number"===i)for(;++n<s;)r=this[n],"number"!=typeof r||isNaN(r)?"string"==typeof r&&(r=parseFloat(r),isNaN(r)||(f[++o]=r)):isNaN(r)||(f[++o]=r);else if("boolean"===i)for(;++n<s;)r=this[n],void 0!==r&&null!==r&&void 0!==r.toString&&(r=r.toString().trim().toLowerCase(),"true"===r?f[++o]=!0:"false"===r&&(f[++o]=!1));else if("array"===i)for(;++n<s;)r=this[n],Array.isArray(r)?f[++o]=r:void 0!==r&&null!==r&&"function"!=typeof r&&w(r.length)&&(f[++o]=Array.create(r));else if("object"===i)for(;++n<s;)r=this[n],null===r||"object"!=typeof r||Array.isArray(r)||(f[++o]=r);else if("function"===i)for(;++n<s;)r=this[n],"function"==typeof r&&(f[++o]=r);else{if(void 0===jQuery||"jquery"!==i&&e!==window.jQuery)throw new Error(t);for(;++n<s;)r=this[n],("string"==typeof r||"object"==typeof r&&(r instanceof HTMLElement||r instanceof jQuery))&&(f[++o]=jQuery(r))}return void 0!==this._s&&(f._s=this._s),f}throw new Error(t)},Array.prototype.cross=function(){var r,e=Array.create(arguments[0]),i=-1,n=-1,o=this.length,s=e.length,f=new Array(o*s);if(1!==arguments.length)throw new Error(t);if(this._x===!0)for(;++i<o;)for(r=-1;++r<s;)f[++n]=this[i].slice(0).add(e[r]);else for(;++i<o;)for(r=-1;++r<s;)f[++n]=[this[i]].add(e[r]);return f._x=!0,void 0!==this._s&&(f._s=this._s),f},Array.prototype.assign=function(){var r,e,i=Array.create(arguments[0]),n=-1,o=this.length,s=i.length,f=new Array(this.length);if(1!==arguments.length)throw new Error(t);if(!i.all(function(t){return"string"==typeof t}))throw new TypeError(t);for(;++n<o;){for(e={},r=-1;++r<s;)e[i[r]]=this[n][r];void 0!==e&&(f[n]=e)}return void 0!==this._s&&(f._s=this._s),f},Array.prototype.seek=function(){var r=arguments[0],e=arguments[1],i=arguments[2],n=this._s;if(arguments.length>=2&&"string"==typeof r&&r.length>0&&("string"==typeof e&&e.length>0||"function"==typeof e))return function(t){for(var o,s=-1,f=t.length;++s<f;){if("string"==typeof e&&t[s][e]===i||"function"==typeof e&&e.call(n,t[s],s,t))return t[s];if(Array.isArray(t[s][r])&&void 0!==(o=arguments.callee(t[s][r])))return o}}(this);throw new Error(t)};var w=function(t){return"number"==typeof t&&isFinite(t)&&Math.floor(t)===t&&Math.abs(t)<=Number.MAX_SAFE_INTEGER};Object.isObject=function(t){return"object"==typeof t&&null!==t&&t instanceof Array==!1},Object.isEqual=function(r,e){if(2!==arguments.length)throw new Error(t);if(r===e)return!0;if(Array.isArray(r)&&Array.isArray(e))return r.length===e.length&&r.all(function(t,i){return Object.isEqual(r[i],e[i])});if(Object.isObject(r)&&Object.isObject(e)){var i,n=Array.create();for(i in r)void 0!==r[i]&&n.push(i);var o=Array.create();for(i in e)void 0!==e[i]&&o.push(i);return n.isAlike(o)&&n.all(function(t){return Object.isEqual(r[t],e[t])})}return!("number"!=typeof r||"number"!=typeof e||!isNaN(r)||!isNaN(e))},String.prototype.contains=function(t){return this.indexOf(t)>=0},String.prototype.toHashCode=function(){var t=-1,r=this.length,e=0;if(0===r)return e;for(;++t<r;)e=(e<<5)-e+this.charCodeAt(t),e|=0;return e};var v=[["<","&lt;"],[">","&gt;"],["&","&amp;"],['"',"&quot;"]],x=v.toObject("0","1"),A=v.toObject("1","0"),E=new RegExp("["+v.select("0").join("").replace(/\\/g,"\\\\")+"]","g"),_=new RegExp("("+v.select("1").join("|").replace(/\\/g,"\\\\")+")","g"),b=function(t){return x[t]},m=function(t){return A[t]};String.prototype.toEncodedXML=function(){return this.replace(E,b)},String.prototype.toDecodedXML=function(){return this.replace(_,m)};var O=/[a-z][A-Z]|[A-Z]{2,}[a-z]|[0-9][a-zA-Z]|[a-zA-Z][0-9]|[^a-zA-Z0-9 ]/,S=/[A-Z\xc0-\xd6\xd8-\xde]?[a-z\xdf-\xf6\xf8-\xff]+(?:['’](?:d|ll|m|re|s|t|ve))?(?=[\xac\xb1\xd7\xf7\x00-\x2f\x3a-\x40\x5b-\x60\x7b-\xbf\u2000-\u206f \t\x0b\f\xa0\ufeff\n\r\u2028\u2029\u1680\u180e\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200a\u202f\u205f\u3000]|[A-Z\xc0-\xd6\xd8-\xde]|$)|(?:[A-Z\xc0-\xd6\xd8-\xde]|[^\ud800-\udfff\xac\xb1\xd7\xf7\x00-\x2f\x3a-\x40\x5b-\x60\x7b-\xbf\u2000-\u206f \t\x0b\f\xa0\ufeff\n\r\u2028\u2029\u1680\u180e\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200a\u202f\u205f\u3000\d+\u2700-\u27bfa-z\xdf-\xf6\xf8-\xffA-Z\xc0-\xd6\xd8-\xde])+(?:['’](?:D|LL|M|RE|S|T|VE))?(?=[\xac\xb1\xd7\xf7\x00-\x2f\x3a-\x40\x5b-\x60\x7b-\xbf\u2000-\u206f \t\x0b\f\xa0\ufeff\n\r\u2028\u2029\u1680\u180e\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200a\u202f\u205f\u3000]|[A-Z\xc0-\xd6\xd8-\xde](?:[a-z\xdf-\xf6\xf8-\xff]|[^\ud800-\udfff\xac\xb1\xd7\xf7\x00-\x2f\x3a-\x40\x5b-\x60\x7b-\xbf\u2000-\u206f \t\x0b\f\xa0\ufeff\n\r\u2028\u2029\u1680\u180e\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200a\u202f\u205f\u3000\d+\u2700-\u27bfa-z\xdf-\xf6\xf8-\xffA-Z\xc0-\xd6\xd8-\xde])|$)|[A-Z\xc0-\xd6\xd8-\xde]?(?:[a-z\xdf-\xf6\xf8-\xff]|[^\ud800-\udfff\xac\xb1\xd7\xf7\x00-\x2f\x3a-\x40\x5b-\x60\x7b-\xbf\u2000-\u206f \t\x0b\f\xa0\ufeff\n\r\u2028\u2029\u1680\u180e\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200a\u202f\u205f\u3000\d+\u2700-\u27bfa-z\xdf-\xf6\xf8-\xffA-Z\xc0-\xd6\xd8-\xde])+(?:['’](?:d|ll|m|re|s|t|ve))?|[A-Z\xc0-\xd6\xd8-\xde]+(?:['’](?:D|LL|M|RE|S|T|VE))?|\d+|(?:[\u2700-\u27bf]|(?:\ud83c[\udde6-\uddff]){2}|[\ud800-\udbff][\udc00-\udfff])[\ufe0e\ufe0f]?(?:[\u0300-\u036f\ufe20-\ufe23\u20d0-\u20f0]|\ud83c[\udffb-\udfff])?(?:\u200d(?:[^\ud800-\udfff]|(?:\ud83c[\udde6-\uddff]){2}|[\ud800-\udbff][\udc00-\udfff])[\ufe0e\ufe0f]?(?:[\u0300-\u036f\ufe20-\ufe23\u20d0-\u20f0]|\ud83c[\udffb-\udfff])?)*/g,j=/[a-zA-Z0-9]+/g;String.prototype.splitWords=function(){return this.match(O.test(this.toString())?S:j)||[]};var N=/[\xc0-\xd6\xd8-\xde\xdf-\xf6\xf8-\xff]/g,R={"À":"A","Á":"A","Â":"A","Ã":"A","Ä":"A","Å":"A","à":"a","á":"a","â":"a","ã":"a","ä":"a","å":"a","Ç":"C","ç":"c","Ð":"D","ð":"d","È":"E","É":"E","Ê":"E","Ë":"E","è":"e","é":"e","ê":"e","ë":"e","Ì":"I","Í":"I","Î":"I","Ï":"I","ì":"i","í":"i","î":"i","ï":"i","Ñ":"N","ñ":"n","Ò":"O","Ó":"O","Ô":"O","Õ":"O","Ö":"O","Ø":"O","ò":"o","ó":"o","ô":"o","õ":"o","ö":"o","ø":"o","Ù":"U","Ú":"U","Û":"U","Ü":"U","ù":"u","ú":"u","û":"u","ü":"u","Ý":"Y","ý":"y","ÿ":"y","Æ":"Ae","æ":"ae","Þ":"Th","þ":"th","ß":"ss"},I=/[\u0300-\u036f\ufe20-\ufe23\u20d0-\u20f0]/g,k=function(t){return R[t]};String.prototype.toEnglishCase=function(){return this.replace(N,k).replace(I,"")},String.prototype.toCapitalWord=function(t){return void 0===t&&(t=this),t.charAt(0).toUpperCase()+t.substring(1).toLowerCase()};var M=/['’]/g;String.prototype.toCamelCase=function(){var t=this.toEnglishCase().replace(M,"").splitWords().map(String.prototype.toCapitalWord).join("");return t.length>0&&(t=t[0].toLowerCase()+t.substring(1)),t},String.prototype.toTrainCase=function(){return this.toEnglishCase().replace(M,"").splitWords().join("-").toLowerCase()},String.prototype.latchOf=function(t,r){for(var e=0,i=-1,n=this.length;++i<n;)if(this.substring(i,i+t.length)===t)e++,i+=t.length-1;else if(this.substring(i,i+r.length)===r){if(e--,0===e)return i;i+=r.length-1}return-1},Map.prototype.toArray=function(){return Array.create(this)},Map.prototype.toObject=function(){return Array.create(this).toObject("0","1")},Function.prototype.debounce=function(t){var r,e,i,n,o=this;return function(){i=this,e=[].slice.call(arguments,0),n=new Date;var s=function(){var f=new Date-n;f<t?r=setTimeout(s,t-f):(r=void 0,o.apply(i,e))};void 0===r&&(r=setTimeout(s,t))}}}();